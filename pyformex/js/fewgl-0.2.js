function k(a){throw a;}var n=void 0,p=!0,s=null,t=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function u(a){return function(){return this[a]}}var v,ca=ca||{},ea=this;function fa(a){return a!==n}function B(a,b,c){a=a.split(".");c=c||ea;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&fa(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}B("goog.DEBUG",p);B("goog.LOCALE","en");B("goog.TRUSTED_SITE",p);
B("goog.STRICT_MODE_COMPATIBLE",t);B("goog.DISALLOW_TEST_ONLY_CODE",!ca.Ja);B("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",t);B("goog.ENABLE_DEBUG_LOADER",p);function ja(){}B("goog.LOAD_MODULE_USING_EVAL",p);B("goog.SEAL_MODULE_EXPORTS",ca.Ja);
function ka(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function C(a){return"array"==ka(a)}function la(a){var b=ka(a);return"array"==b||"object"==b&&"number"==typeof a.length}function na(a){return"string"==typeof a}function E(a){return"number"==typeof a}function oa(a){return"function"==ka(a)}function pa(a){var b=typeof a;return"object"==b&&a!=s||"function"==b}var qa="closure_uid_"+(1E9*Math.random()>>>0),ra=0;function sa(a,b,c){return a.call.apply(a.bind,arguments)}
function ta(a,b,c){a||k(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ua(a,b,c){ua=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sa:ta;return ua.apply(s,arguments)}
function va(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var xa=ca.Vf&&Date.now||function(){return+new Date};function G(a,b){B(a,b,n)}function I(a,b){function c(){}c.prototype=b.prototype;a.n=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.sg=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];b.prototype[c].apply(a,g)}}
B("goog.defineClass.SEAL_CLASS_INSTANCES",ca.Ja);var J=J||{};J.yk=p;J.wa=function(a){eval("X.DEV === undefined")||window.console.time(a)};J.qa=function(a){eval("X.DEV === undefined")||window.console.timeEnd(a)};window["X.counter"]=new function(){this.Lh=0;this.kk=function(){return this.Lh++}};function ya(a,b){for(var c in b){var d=b.__lookupGetter__(c),e=b.__lookupSetter__(c);d||e?(d&&a.__defineGetter__(c,d),e&&a.__defineSetter__(c,e)):a[c]=b[c]}}var za=window.oh;
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return f.apply(this instanceof c?this:a||window,e.concat(d.call(arguments)))}function c(){}"function"!==typeof this&&k(new TypeError("Function.prototype.bind - what is trying to be bound is not callable"));var d=Array.prototype.slice,e=d.call(arguments,1),f=this;c.prototype=this.prototype;b.prototype=new c;return b});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=Date.now(),f=Math.max(0,16-(c-a)),g=window.setTimeout(function(){b(c+f)},f);a=c+f;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();"slice"in ArrayBuffer.prototype||(ArrayBuffer.prototype.slice=function(a,b){a===n&&k(Error("Not enough arguments."));var c=b||this.byteLength;0>a&&(a=this.byteLength+a);0>c&&(c=this.byteLength+c);c<a&&(c=a=0);0>a&&(a=0);0>c&&(c=0);a>this.byteLength&&(a=this.byteLength);c>this.byteLength&&(c=this.byteLength);for(var d=new ArrayBuffer(c-a),e=new Uint8Array(this),f=new Uint8Array(d),g=a,h=0;g<c;++g,++h)f[h]=e[g];return d});G("$",za);G("Function.prototype.bind",Function.prototype.bind);
G("window.requestAnimationFrame",window.requestAnimationFrame);G("window.cancelAnimationFrame",window.cancelAnimationFrame);var Aa={};B("goog.string.DETECT_DOUBLE_ESCAPING",t);B("goog.string.FORCE_NON_DOM_HTML_UNESCAPING",t);function Ba(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}var Da=ca.Vf&&String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
function Ea(a){if(!Fa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ga,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ha,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ia,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ja,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(La,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ma,"&#0;"));Aa.Bh&&-1!=a.indexOf("e")&&(a=a.replace(Na,"&#101;"));return a}var Ga=/&/g,Ha=/</g,Ia=/>/g,Ja=/"/g,La=/'/g,Ma=/\x00/g,Na=/e/g,Fa=Aa.Bh?/[\x00&<>"'e]/:/[\x00&<>"']/,Oa;
a:{var Pa=ea.navigator;if(Pa){var Qa=Pa.userAgent;if(Qa){Oa=Qa;break a}}Oa=""}function Ra(a){return-1!=Oa.indexOf(a)}var Sa={},Ta;function Va(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Va);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.Hl=p}I(Va,Error);Va.prototype.name="CustomError";var Wa={};B("goog.asserts.ENABLE_ASSERTS",ca.Ja);function Xa(a,b){b.unshift(a);Va.call(this,Ba.apply(s,b));b.shift();this.Gl=a}I(Xa,Va);Xa.prototype.name="AssertionError";
function Ya(a,b){Wa.Bk&&k(new Xa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))}var Za={};B("goog.NATIVE_ARRAY_PROTOTYPES",ca.Vf);B("goog.array.ASSUME_NATIVE_FUNCTIONS",t);
var ab=Array.prototype,bb=ca.Bd&&(Za.Ad||ab.indexOf)?function(a,b,c){return ab.indexOf.call(a,b,c)}:function(a,b,c){c=c==s?0:0>c?Math.max(0,a.length+c):c;if(na(a))return!na(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},cb=ca.Bd&&(Za.Ad||ab.forEach)?function(a,b,c){ab.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=na(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},db=ca.Bd&&(Za.Ad||ab.map)?function(a,b,c){return ab.map.call(a,b,c)}:
function(a,b,c){for(var d=a.length,e=Array(d),f=na(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},eb=ca.Bd&&(Za.Ad||ab.some)?function(a,b,c){return ab.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=na(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return p;return t},fb=ca.Bd&&(Za.Ad||ab.every)?function(a,b,c){return ab.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=na(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return t;return p};
function gb(a,b){var c=bb(a,b),d;(d=0<=c)&&ab.splice.call(a,c,1);return d}function hb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function ib(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function jb(a,b){for(var c in a)if(b.call(n,a[c],c,a))return p;return t}function kb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function lb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var nb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function ob(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<nb.length;f++)c=nb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function pb(a){var b=arguments.length;if(1==b&&C(arguments[0]))return pb.apply(s,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=p;return c}var qb={};B("goog.userAgent.ASSUME_IE",t);B("goog.userAgent.ASSUME_EDGE",t);B("goog.userAgent.ASSUME_GECKO",t);B("goog.userAgent.ASSUME_WEBKIT",t);
B("goog.userAgent.ASSUME_MOBILE_WEBKIT",t);B("goog.userAgent.ASSUME_OPERA",t);B("goog.userAgent.ASSUME_ANY_VERSION",t);var rb=qb.rh||qb.ph||qb.qh||qb.uh||qb.xh||qb.vh,sb=rb?qb.vh:Ra("Opera")||Ra("OPR"),K=rb?qb.rh:Ra("Trident")||Ra("MSIE"),tb=rb?qb.ph:Ra("Edge"),ub=rb?qb.qh:Ra("Gecko")&&!(-1!=Oa.toLowerCase().indexOf("webkit")&&!Ra("Edge"))&&!(Ra("Trident")||Ra("MSIE"))&&!Ra("Edge"),vb=rb?qb.xh||qb.uh:-1!=Oa.toLowerCase().indexOf("webkit")&&!Ra("Edge");B("goog.userAgent.ASSUME_MAC",t);
B("goog.userAgent.ASSUME_WINDOWS",t);B("goog.userAgent.ASSUME_LINUX",t);B("goog.userAgent.ASSUME_X11",t);B("goog.userAgent.ASSUME_ANDROID",t);B("goog.userAgent.ASSUME_IPHONE",t);B("goog.userAgent.ASSUME_IPAD",t);var wb=qb.th||qb.yh||qb.sh||qb.wk||qb.rk||qb.uk||qb.tk,xb=wb?qb.th:Ra("Macintosh"),yb=wb?qb.yh:Ra("Windows"),zb=wb?qb.sh:Ra("Linux")||Ra("CrOS");
function Ab(){var a=Oa;if(ub)return/rv\:([^\);]+)(\)|;)/.exec(a);if(tb)return/Edge\/([\d\.]+)/.exec(a);if(K)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(vb)return/WebKit\/(\S+)/.exec(a)}function Bb(){var a=ea.document;return a?a.documentMode:n}var Cb=function(){if(sb&&ea.opera){var a=ea.opera.version;return oa(a)?a():a}var a="",b=Ab();b&&(a=b?b[1]:"");return K&&(b=Bb(),b>parseFloat(a))?String(b):a}(),Db={};
function Eb(a){var b;if(!(b=qb.sk))if(!(b=Db[a])){b=0;for(var c=Da(String(Cb)).split("."),d=Da(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var q=l.exec(g)||["","",""],r=m.exec(h)||["","",""];if(0==q[0].length&&0==r[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==r[1].length?0:parseInt(r[1],10))?-1:(0==q[1].length?0:parseInt(q[1],10))>(0==r[1].length?0:parseInt(r[1],10))?1:
0)||((0==q[2].length)<(0==r[2].length)?-1:(0==q[2].length)>(0==r[2].length)?1:0)||(q[2]<r[2]?-1:q[2]>r[2]?1:0)}while(0==b)}b=Db[a]=0<=b}return b}var Fb=ea.document,Gb=!Fb||!K?n:Bb()||("CSS1Compat"==Fb.compatMode?parseInt(Cb,10):5),Ib={},Jb=!K||9<=Gb,Kb=K&&!Eb("9");!vb||Eb("528");ub&&Eb("1.9b")||K&&Eb("8")||sb&&Eb("9.5")||vb&&Eb("528");ub&&!Eb("8")||K&&Eb("9");function Lb(){Lb.Tf!=Mb&&(Lb.Ek&&(this.ai=Error().stack),Nb[this[qa]||(this[qa]=++ra)]=this);this.md=this.md;this.mc=this.mc}var Mb=0;
B("goog.Disposable.MONITORING_MODE",0);B("goog.Disposable.INCLUDE_STACK_ON_CREATION",p);var Nb={};Lb.prototype.md=t;Lb.prototype.Gc=function(){if(!this.md&&(this.md=p,this.ga(),Lb.Tf!=Mb)){var a=this[qa]||(this[qa]=++ra);1==Lb.Tf&&!Nb.hasOwnProperty(a)&&k(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete Nb[a]}};Lb.prototype.ga=function(){if(this.mc)for(;this.mc.length;)this.mc.shift()()};
function Ob(a){a&&"function"==typeof a.Gc&&a.Gc()}function Pb(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.oc=t;this.hh=p}Pb.prototype.stopPropagation=function(){this.oc=p};Pb.prototype.preventDefault=function(){this.defaultPrevented=p;this.hh=t};function Qb(a){Qb[" "](a);return a}Qb[" "]=ja;
function Rb(a,b){Rb.sg(this,"constructor",a?a.type:"");this.relatedTarget=this.currentTarget=this.target=s;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=t;this.state=s;this.wj=t;this.lb=s;a&&this.Ma(a,b)}I(Rb,Pb);
Rb.prototype.Ma=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:s;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(ub){var f;a:{try{Qb(e.nodeName);f=p;break a}catch(g){}f=t}f||(e=s)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;d===s?(this.offsetX=vb||a.offsetX!==n?a.offsetX:a.layerX,this.offsetY=vb||a.offsetY!==n?a.offsetY:a.layerY,this.clientX=a.clientX!==n?a.clientX:a.pageX,this.clientY=
a.clientY!==n?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=d.clientX!==n?d.clientX:d.pageX,this.clientY=d.clientY!==n?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.wj=xb?a.metaKey:a.ctrlKey;this.state=a.state;this.lb=a;a.defaultPrevented&&
this.preventDefault()};Rb.prototype.stopPropagation=function(){Rb.n.stopPropagation.call(this);this.lb.stopPropagation?this.lb.stopPropagation():this.lb.cancelBubble=p};Rb.prototype.preventDefault=function(){Rb.n.preventDefault.call(this);var a=this.lb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=t,Kb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Sb="closure_listenable_"+(1E6*Math.random()|0);function Tb(a){return!(!a||!a[Sb])}var Ub=0;
function Vb(a,b,c,d,e,f){Vb.Ck&&(this.ai=Error().stack);this.kc=a;this.re=b;this.src=c;this.type=d;this.capture=!!e;this.ie=f;this.key=++Ub;this.Lc=this.Xd=t}B("goog.events.Listener.ENABLE_MONITORING",t);function Wb(a){a.Lc=p;a.kc=s;a.re=s;a.src=s;a.ie=s}function Xb(a){this.src=a;this.ja={};this.yd=0}v=Xb.prototype;v.add=function(a,b,c,d,e){var f=a.toString();a=this.ja[f];a||(a=this.ja[f]=[],this.yd++);var g=Yb(a,b,d,e);-1<g?(b=a[g],c||(b.Xd=t)):(b=new Vb(b,s,this.src,f,!!d,e),b.Xd=c,a.push(b));return b};
v.remove=function(a,b,c,d){a=a.toString();if(!(a in this.ja))return t;var e=this.ja[a];b=Yb(e,b,c,d);return-1<b?(Wb(e[b]),ab.splice.call(e,b,1),0==e.length&&(delete this.ja[a],this.yd--),p):t};function Zb(a,b){var c=b.type;c in a.ja&&gb(a.ja[c],b)&&(Wb(b),0==a.ja[c].length&&(delete a.ja[c],a.yd--))}v.Kc=function(a){a=a&&a.toString();var b=0,c;for(c in this.ja)if(!a||c==a){for(var d=this.ja[c],e=0;e<d.length;e++)++b,Wb(d[e]);delete this.ja[c];this.yd--}return b};
v.qd=function(a,b,c,d){a=this.ja[a.toString()];var e=-1;a&&(e=Yb(a,b,c,d));return-1<e?a[e]:s};v.je=function(a,b){var c=fa(a),d=c?a.toString():"",e=fa(b);return jb(this.ja,function(a){for(var g=0;g<a.length;++g)if((!c||a[g].type==d)&&(!e||a[g].capture==b))return p;return t})};function Yb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Lc&&f.kc==b&&f.capture==!!c&&f.ie==d)return e}return-1}var $b="closure_lm_"+(1E6*Math.random()|0),ac={};B("goog.events.CAPTURE_SIMULATION_MODE",2);var bc=0;
function L(a,b,c,d,e){if(C(b)){for(var f=0;f<b.length;f++)L(a,b[f],c,d,e);return s}c=dc(c);return Tb(a)?a.jc(b,c,d,e):ec(a,b,c,t,d,e)}
function ec(a,b,c,d,e,f){b||k(Error("Invalid event type"));var g=!!e;if(g&&!Jb){if(0==Ib.Sf)return Ya("Can not register capture listener in IE8-."),s;if(1==Ib.Sf)return s}var h=fc(a);h||(a[$b]=h=new Xb(a));c=h.add(b,c,d,e,f);if(c.re)return c;d=gc();c.re=d;d.src=a;d.kc=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent?a.attachEvent(b.toString()in ac?ac[b.toString()]:ac[b.toString()]="on"+b.toString(),d):k(Error("addEventListener and attachEvent are unavailable."));bc++;return c}
function gc(){var a=hc,b=Jb?function(c){return a.call(b.src,b.kc,c)}:function(c){c=a.call(b.src,b.kc,c);if(!c)return c};return b}function ic(a,b,c,d,e){if(C(b)){for(var f=0;f<b.length;f++)ic(a,b[f],c,d,e);return s}c=dc(c);return Tb(a)?a.Sg(b,c,d,e):ec(a,b,c,p,d,e)}function jc(a,b,c,d,e){if(C(b))for(var f=0;f<b.length;f++)jc(a,b[f],c,d,e);else if(c=dc(c),Tb(a))a.Pf(b,c,d,e);else if(a&&(a=fc(a)))(b=a.qd(b,c,!!d,e))&&kc(b)}
function kc(a){if(!E(a)&&a&&!a.Lc){var b=a.src;if(Tb(b))Zb(b.ab,a);else{var c=a.type,d=a.re;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in ac?ac[c]:ac[c]="on"+c,d);bc--;(c=fc(b))?(Zb(c,a),0==c.yd&&(c.src=s,b[$b]=s)):Wb(a)}}}function lc(a,b,c,d){var e=p;if(a=fc(a))if(b=a.ja[b.toString()]){b=b.concat();for(a=0;a<b.length;a++){var f=b[a];f&&(f.capture==c&&!f.Lc)&&(f=mc(f,d),e=e&&f!==t)}}return e}
function mc(a,b){var c=a.kc,d=a.ie||a.src;a.Xd&&kc(a);return c.call(d,b)}
function hc(a,b){if(a.Lc)return p;if(!Jb){var c;if(!(c=b))a:{c=["window","event"];for(var d=ea,e;e=c.shift();)if(d[e]!=s)d=d[e];else{c=s;break a}c=d}e=c;c=new Rb(e,this);d=p;if(2==Ib.Sf){if(!(0>e.keyCode||e.returnValue!=n)){a:{var f=t;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=p}if(f||e.returnValue==n)e.returnValue=p}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.oc&&0<=h;h--){c.currentTarget=e[h];var l=lc(e[h],f,p,c),d=d&&l}for(h=0;!c.oc&&h<e.length;h++)c.currentTarget=
e[h],l=lc(e[h],f,t,c),d=d&&l}}else d=mc(a,c);return d}return mc(a,new Rb(b,this))}function fc(a){a=a[$b];return a instanceof Xb?a:s}var nc="__closure_events_fn_"+(1E9*Math.random()>>>0);function dc(a){if(oa(a))return a;a[nc]||(a[nc]=function(b){return a.handleEvent(b)});return a[nc]}function oc(){Lb.call(this);this.ab=new Xb(this);this.Sh=this;this.pe=s}I(oc,Lb);oc.prototype[Sb]=p;v=oc.prototype;v.Ef=ba("pe");v.addEventListener=function(a,b,c,d){L(this,a,b,c,d)};
v.removeEventListener=function(a,b,c,d){jc(this,a,b,c,d)};
v.dispatchEvent=function(a){var b,c=this.pe;if(c)for(b=[];c;c=c.pe)b.push(c);var c=this.Sh,d=a.type||a;if(na(a))a=new Pb(a,c);else if(a instanceof Pb)a.target=a.target||c;else{var e=a;a=new Pb(d,c);ob(a,e)}var e=p,f;if(b)for(var g=b.length-1;!a.oc&&0<=g;g--)f=a.currentTarget=b[g],e=pc(f,d,p,a)&&e;a.oc||(f=a.currentTarget=c,e=pc(f,d,p,a)&&e,a.oc||(e=pc(f,d,t,a)&&e));if(b)for(g=0;!a.oc&&g<b.length;g++)f=a.currentTarget=b[g],e=pc(f,d,t,a)&&e;return e};
v.ga=function(){oc.n.ga.call(this);!this.ab||this.ab.Kc(n);this.pe=s};v.jc=function(a,b,c,d){return this.ab.add(String(a),b,t,c,d)};v.Sg=function(a,b,c,d){return this.ab.add(String(a),b,p,c,d)};v.Pf=function(a,b,c,d){return this.ab.remove(String(a),b,c,d)};function pc(a,b,c,d){b=a.ab.ja[String(b)];if(!b)return p;b=b.concat();for(var e=p,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Lc&&g.capture==c){var h=g.kc,l=g.ie||g.src;g.Xd&&Zb(a.ab,g);e=h.call(l,d)!==t&&e}}return e&&d.hh!=t}
v.qd=function(a,b,c,d){return this.ab.qd(String(a),b,c,d)};v.je=function(a,b){return this.ab.je(fa(a)?String(a):n,b)};function M(){oc.call(this);this.c="base";this.ma=window["X.counter"].kk();this.e=t}I(M,oc);M.prototype.__defineGetter__("classname",u("c"));M.prototype.__defineGetter__("id",u("ma"));G("X.base",M);
function N(a,b){M.call(this);this.c="triplets";this.Wb=Infinity;this.Tb=-Infinity;this.Xb=Infinity;this.Ub=-Infinity;this.Yb=Infinity;this.Vb=-Infinity;this.Dd=[0,0,0];this.ag=p;this.j=0;this.N=new Float32Array(a);b!=s&&(this.N=b.N.subarray(0,b.N.length),this.j=this.N.length,this.Wb=b.Wb,this.Tb=b.Tb,this.Xb=b.Xb,this.Ub=b.Ub,this.Yb=b.Yb,this.Vb=b.Vb,this.Dd=b.Dd.slice(),this.ag=t)}I(N,M);v=N.prototype;
v.add=function(a,b,c){this.Wb=Math.min(this.Wb,a);this.Tb=Math.max(this.Tb,a);this.Xb=Math.min(this.Xb,b);this.Ub=Math.max(this.Ub,b);this.Yb=Math.min(this.Yb,c);this.Vb=Math.max(this.Vb,c);this.Dd=[(this.Wb+this.Tb)/2,(this.Xb+this.Ub)/2,(this.Yb+this.Vb)/2];this.ag=t;this.e=p;this.N[this.j++]=a;this.N[this.j++]=b;this.N[this.j++]=c;return this.j/3};v.nb=function(){if(this.j!=this.N.length){var a=new Float32Array(this.j);a.set(this.N.subarray(0,this.j));this.N=a}};
v.get=function(a){a*=3;return[this.N[a],this.N[a+1],this.N[a+2]]};v.remove=function(){k(Error("Not implemented."))};v.clear=function(){this.N=new Float32Array(this.N.length);this.e=p};N.prototype.__defineGetter__("count",function(){this.nb();return this.N.length/3});N.prototype.__defineGetter__("length",function(){this.nb();return this.N.length});G("X.triplets",N);G("X.triplets.prototype.add",N.prototype.add);G("X.triplets.prototype.resize",N.prototype.nb);G("X.triplets.prototype.get",N.prototype.get);
G("X.triplets.prototype.remove",N.prototype.remove);G("X.triplets.prototype.clear",N.prototype.clear);function qc(){this.Pa=Infinity;this.S=this.Ka=-Infinity;this.W=Infinity;this.Cb=[0,0,0];this.Ab=[1,1,1]}qc.prototype.__defineGetter__("lowerThreshold",u("S"));qc.prototype.__defineSetter__("lowerThreshold",ba("S"));qc.prototype.__defineGetter__("upperThreshold",u("W"));qc.prototype.__defineSetter__("upperThreshold",ba("W"));qc.prototype.__defineGetter__("min",u("Pa"));
qc.prototype.__defineGetter__("max",u("Ka"));qc.prototype.__defineGetter__("minColor",u("Cb"));qc.prototype.__defineSetter__("minColor",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid min. color."));this.Cb=a});qc.prototype.__defineGetter__("maxColor",u("Ab"));qc.prototype.__defineSetter__("maxColor",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid max. color."));this.Ab=a});function rc(a){M.call(this);this.c="file";this.Md=a;this.e=p}I(rc,M);function sc(){this.Pb=this.q=s}
sc.prototype.__defineSetter__("file",function(a){a==s||C(a)&&0==a.length?this.q=s:C(a)?this.q=1==a.length?new rc(a[0]):db(a,function(a){var c=new O;c.q=new rc(a);return c}):this.q=new rc(a)});sc.prototype.__defineGetter__("file",function(){return!this.q?"":C(this.q)?this.q.map(function(a){return a.q.Md}):this.q.Md});sc.prototype.__defineGetter__("filedata",u("Pb"));
sc.prototype.__defineSetter__("filedata",function(a){if(a==s||C(a)&&0==a.length)this.Pb=s;if(C(a))if(1==a.length)this.Pb=a[0];else{var b=this.q.length,c;for(c=0;c<b;c++)this.q[c].Pb=a[c]}else this.Pb=a});function tc(){M.call(this);this.c="scalars";this.Qc=this.z=s;this.mg=p;this.Fe=0;ya(this,new sc);ya(this,new qc);this.Cb=[0,1,0];this.Ab=[1,0,0]}I(tc,M);tc.prototype.__defineGetter__("array",u("z"));tc.prototype.__defineSetter__("array",function(a){this.Qc=this.z=a;this.e=p});
tc.prototype.__defineGetter__("interpolation",u("Fe"));tc.prototype.__defineSetter__("interpolation",ba("Fe"));G("X.scalars",tc);B("goog.functions.CACHE_RETURN_VALUE",p);function uc(a,b){this.Q={};this.w=[];this.Rf=this.Kb=0;var c=arguments.length;if(1<c){c%2&&k(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.$e(a)}v=uc.prototype;v.mb=u("Kb");v.Ua=function(){vc(this);for(var a=[],b=0;b<this.w.length;b++)a.push(this.Q[this.w[b]]);return a};
v.ce=function(){vc(this);return this.w.concat()};v.hf=function(a){for(var b=0;b<this.w.length;b++){var c=this.w[b];if(wc(this.Q,c)&&this.Q[c]==a)return p}return t};v.nd=function(a,b){if(this===a)return p;if(this.Kb!=a.mb())return t;var c=b||xc;vc(this);for(var d,e=0;d=this.w[e];e++)if(!c(this.get(d),a.get(d)))return t;return p};function xc(a,b){return a===b}v.clear=function(){this.Q={};this.Rf=this.Kb=this.w.length=0};
v.remove=function(a){return wc(this.Q,a)?(delete this.Q[a],this.Kb--,this.Rf++,this.w.length>2*this.Kb&&vc(this),p):t};function vc(a){if(a.Kb!=a.w.length){for(var b=0,c=0;b<a.w.length;){var d=a.w[b];wc(a.Q,d)&&(a.w[c++]=d);b++}a.w.length=c}if(a.Kb!=a.w.length){for(var e={},c=b=0;b<a.w.length;)d=a.w[b],wc(e,d)||(a.w[c++]=d,e[d]=1),b++;a.w.length=c}}v.get=function(a,b){return wc(this.Q,a)?this.Q[a]:b};v.set=function(a,b){wc(this.Q,a)||(this.Kb++,this.w.push(a),this.Rf++);this.Q[a]=b};
v.$e=function(a){var b;a instanceof uc?(b=a.ce(),a=a.Ua()):(b=lb(a),a=kb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};v.forEach=function(a,b){for(var c=this.ce(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};v.f=function(){return new uc(this)};function wc(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function yc(){M.call(this);this.c="colortable";this.zb=new uc;ya(this,new sc)}I(yc,M);
yc.prototype.add=function(a,b,c,d,e,f){(!E(a)||!E(c)||!E(d)||!E(e)||!E(f))&&k(Error("Invalid color table entry."));this.zb.set(a,[b,c,d,e,f]);this.e=p};function zc(a,b,c){this.x=fa(a)?a:0;this.y=fa(b)?b:0;this.b=fa(c)?c:0}zc.prototype.f=function(){return new zc(this.x,this.y,this.b)};ca.Ja&&(zc.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.b+")"});zc.prototype.Mf=function(){return[this.x,this.y,this.b]};function R(a,b,c){this.x=a;this.y=b;this.b=c}I(R,zc);v=R.prototype;
v.f=function(){return new R(this.x,this.y,this.b)};v.lc=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.b*this.b)};v.scale=function(a){this.x*=a;this.y*=a;this.b*=a;return this};v.ba=function(){this.x=-this.x;this.y=-this.y;this.b=-this.b;return this};v.normalize=function(){return this.scale(1/this.lc())};v.add=function(a){this.x+=a.x;this.y+=a.y;this.b+=a.b;return this};v.pa=function(a){this.x-=a.x;this.y-=a.y;this.b-=a.b;return this};
v.nd=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y&&this.b==a.b};function Ac(a,b){var c=a.x-b.x,d=a.y-b.y,e=a.b-b.b;return Math.sqrt(c*c+d*d+e*e)}function Bc(a,b){return new R(a.x+b.x,a.y+b.y,a.b+b.b)}function Cc(a,b){return new R(a.y*b.b-a.b*b.y,a.b*b.x-a.x*b.b,a.x*b.y-a.y*b.x)}function Dc(a,b){this.x=fa(a)?a:0;this.y=fa(b)?b:0}Dc.prototype.f=function(){return new Dc(this.x,this.y)};ca.Ja&&(Dc.prototype.toString=function(){return"("+this.x+", "+this.y+")"});
function Ec(a,b){return new Dc(a.x-b.x,a.y-b.y)}Dc.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};Dc.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};Dc.prototype.translate=function(a,b){a instanceof Dc?(this.x+=a.x,this.y+=a.y):(this.x+=a,E(b)&&(this.y+=b));return this};Dc.prototype.scale=function(a,b){var c=E(b)?b:a;this.x*=a;this.y*=c;return this};function Fc(a,b){this.x=a;this.y=b}I(Fc,Dc);v=Fc.prototype;
v.f=function(){return new Fc(this.x,this.y)};v.lc=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};v.scale=Dc.prototype.scale;v.ba=function(){this.x=-this.x;this.y=-this.y;return this};v.normalize=function(){return this.scale(1/this.lc())};v.add=function(a){this.x+=a.x;this.y+=a.y;return this};v.pa=function(a){this.x-=a.x;this.y-=a.y;return this};v.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};
v.nd=function(a){return this==a||!!a&&this.x==a.x&&this.y==a.y};function Gc(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function Hc(a,b){this.width=a;this.height=b}function Ic(a,b){return a==b?p:!a||!b?t:a.width==b.width&&a.height==b.height}Hc.prototype.f=function(){return new Hc(this.width,this.height)};ca.Ja&&(Hc.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});Hc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
Hc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};Hc.prototype.scale=function(a,b){var c=E(b)?b:a;this.width*=a;this.height*=c;return this};
function Jc(a,b){if(a instanceof Jc)this.P=a.Mf();else{var c;if(c=la(a))a:{for(var d=c=0;d<a.length;d++){if(!la(a[d])||0<c&&a[d].length!=c){c=t;break a}for(var e=0;e<a[d].length;e++)if(!E(a[d][e])){c=t;break a}0==c&&(c=a[d].length)}c=0!=c}c?this.P=hb(a):a instanceof Hc?this.P=Kc(a.height,a.width):E(a)&&E(b)&&0<a&&0<b?this.P=Kc(a,b):k(Error("Invalid argument(s) for Matrix contructor"))}this.F=new Hc(this.P[0].length,this.P.length)}
function Lc(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new Jc(b)}function Mc(a,b,c){for(var d=0;d<a.ta().height;d++)for(var e=0;e<a.ta().width;e++)b.call(c,a.P[d][e],d,e,a)}function Nc(a,b){var c=new Jc(a.ta());Mc(a,function(d,e,f){c.P[e][f]=b.call(n,d,e,f,a)});return c}function Kc(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}v=Jc.prototype;
v.add=function(a){Ic(this.F,a.ta())||k(Error("Matrix summation is only supported on arrays of equal size"));return Nc(this,function(b,c,d){return b+a.P[c][d]})};v.nd=function(a,b){if(this.F.width!=a.F.width||this.F.height!=a.F.height)return t;for(var c=b||0,d=0;d<this.F.height;d++)for(var e=0;e<this.F.width;e++)if(!(Math.abs(this.P[d][e]-a.P[d][e])<=(c||1E-6)))return t;return p};v.ta=u("F");v.$=function(a,b){return!(0<=a&&a<this.F.height&&0<=b&&b<this.F.width)?s:this.P[a][b]};
v.l=function(a,b,c){0<=a&&a<this.F.height&&0<=b&&b<this.F.width||k(Error("Index out of bounds when setting matrix value, ("+a+","+b+") in size ("+this.F.height+","+this.F.width+")"));this.P[a][b]=c};v.multiply=function(a){if(a instanceof Jc)return this.F.width!=a.ta().height&&k(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Oc(this,a);if(E(a))return Pc(this,a);k(Error("A matrix can only be multiplied by a number or another matrix."))};
v.pa=function(a){Ic(this.F,a.ta())||k(Error("Matrix subtraction is only supported on arrays of equal size."));return Nc(this,function(b,c,d){return b-a.P[c][d]})};v.Mf=u("P");ca.Ja&&(Jc.prototype.toString=function(){var a=0;Mc(this,function(b){b=String(b).length;b>a&&(a=b)});var b=[];cb(this.P,function(c){b.push("[ ");cb(c,function(c){c=String(c);b.push(Array(a-c.length+1).join(" ")+c+" ")});b.push("]\n")});return b.join("")});
function Oc(a,b){var c=new Jc(a.F.height,b.ta().width);Mc(c,function(a,e,f){for(var g=a=0;g<this.F.width;g++)a+=this.$(e,g)*b.$(g,f);c.l(e,f,a)},a);return c}function Pc(a,b){return Nc(a,function(a){return a*b})}function Qc(a,b){Jc.call(this,a,b);this.c="matrix"}I(Qc,Jc);function Rc(a){for(var b=[],c=0;c<a;c++){b[c]=[];for(var d=0;d<a;d++)b[c][d]=c==d?1:0}return new Qc(b)}v=Qc.prototype;v.La=function(){var a=[],b=this.ta(),c,d;for(d=0;d<b.height;d++)for(c=0;c<b.width;c++)a.push(this.$(c,d));return a};
v.translate=function(a){this.F.width!=this.F.height&&k(Error("Can not translate non-square matrix."));var b=this.ta(),c=Lc(b.height);a instanceof Fc&&3==b.height?(c.l(0,2,a.x),c.l(1,2,a.y)):a instanceof R&&4==b.height?(c.l(0,3,a.x),c.l(1,3,a.y),c.l(2,3,a.b)):k(Error("Translation failed."));return new Qc(this.multiply(c))};
v.rotate=function(a,b){(4!=this.ta().height||this.F.width!=this.F.height)&&k(Error("Only 4x4 matrices can be rotated."));(b==s||!(b instanceof R))&&k(Error("Invalid axis vector."));E(a)||k(Error("Invalid angle."));var c=b.normalize(),d=Math.cos(a),e=Math.sin(a),f=Lc(4);f.l(0,0,d+c.x*c.x*(1-d));f.l(0,1,c.x*c.y*(1-d)-c.b*e);f.l(0,2,c.x*c.b*(1-d)+c.y*e);f.l(1,0,c.y*c.x*(1-d)+c.b*e);f.l(1,1,d+c.y*c.y*(1-d));f.l(1,2,c.y*c.b*(1-d)-c.x*e);f.l(2,0,c.b*c.x*(1-d)-c.y*e);f.l(2,1,c.b*c.y*(1-d)+c.x*e);f.l(2,2,
d+c.b*c.b*(1-d));return new Qc(this.multiply(f))};v.Va=function(a){var b=this.ta(),c=Array(b.width),d;for(d=0;d<c.length;d++)c[d]=Array(1),c[d][0]=1;a instanceof R&&3<=b.width?(c[0][0]=a.x,c[1][0]=a.y,c[2][0]=a.b):k(Error("Multiplication by vector failed."));a=new Jc(c);a=this.multiply(a);return new R(parseFloat(a.$(0,0)),parseFloat(a.$(1,0)),parseFloat(a.$(2,0)))};v.ck=function(a,b){var c=this.P[a];this.P[a]=this.P[b];this.P[b]=c};
v.bk=function(a,b){for(var c=this.ta(),d=0,d=0;d<c.height;d++){var e=this.$(d,a);e||(e=0);var f=this.$(d,b);f||(f=0);this.l(d,a,f);this.l(d,b,e)}};G("X.matrix",Qc);G("X.matrix.createIdentityMatrix",Rc);G("X.matrix.prototype.flatten",Qc.prototype.La);G("X.matrix.prototype.translate",Qc.prototype.translate);G("X.matrix.prototype.rotate",Qc.prototype.rotate);G("X.matrix.prototype.toArray",Qc.prototype.Mf);G("X.matrix.prototype.getValueAt",Qc.prototype.$);G("X.matrix.prototype.setValueAt",Qc.prototype.l);
G("X.matrix.prototype.multiplyByVector",Qc.prototype.Va);G("X.matrix.prototype.swapRows",Qc.prototype.ck);G("X.matrix.prototype.swapCols",Qc.prototype.bk);function Sc(){M.call(this);this.c="transform";this.D=Rc(4);this.bg=new Float32Array(this.D.La())}I(Sc,M);Sc.prototype.__defineGetter__("matrix",u("D"));Sc.prototype.__defineSetter__("matrix",function(a){(a==s||!(a instanceof Qc))&&k(Error("Invalid matrix."));this.D=a;this.s()});v=Sc.prototype;
v.Kj=function(a){(!E(a)||-360>a||360<a)&&k(Error("Invalid angle."));this.D=this.D.rotate(a*Math.PI/180,new R(0,1,0));this.s()};v.Lj=function(a){(!E(a)||-360>a||360<a)&&k(Error("Invalid angle."));this.D=this.D.rotate(a*Math.PI/180,new R(1,0,0));this.s()};v.Mj=function(a){(!E(a)||-360>a||360<a)&&k(Error("Invalid angle."));this.D=this.D.rotate(a*Math.PI/180,new R(0,0,1));this.s()};v.fk=function(a){E(a)||k(Error("Invalid distance."));this.D=this.D.translate(new R(a,0,0));this.s()};
v.gk=function(a){E(a)||k(Error("Invalid distance."));this.D=this.D.translate(new R(0,a,0));this.s()};v.hk=function(a){E(a)||k(Error("Invalid distance."));this.D=this.D.translate(new R(0,0,a));this.s()};function Tc(a,b,c){var d=a.D.$(b,c);d||(d=0);a.D.l(b,c,-1*d);a.s()}v.ni=function(){Tc(this,0,0)};v.oi=function(){Tc(this,1,1)};v.pi=function(){Tc(this,2,2)};v.s=function(){this.bg=new Float32Array(this.D.La());this.e=p};G("X.transform",Sc);G("X.transform.prototype.rotateX",Sc.prototype.Kj);
G("X.transform.prototype.rotateY",Sc.prototype.Lj);G("X.transform.prototype.rotateZ",Sc.prototype.Mj);G("X.transform.prototype.translateX",Sc.prototype.fk);G("X.transform.prototype.translateY",Sc.prototype.gk);G("X.transform.prototype.translateZ",Sc.prototype.hk);G("X.transform.prototype.flipX",Sc.prototype.ni);G("X.transform.prototype.flipY",Sc.prototype.oi);G("X.transform.prototype.flipZ",Sc.prototype.pi);G("X.transform.prototype.modified",Sc.prototype.s);
function Uc(){M.call(this);this.c="texture";this.Aa=this.tb=this.q=s;this.Gb=this.Hb=0;ya(this,new sc)}I(Uc,M);G("X.texture",Uc);function S(){this.aa=Vc;this.dc=new Sc;this.rb=[0.5,0.5,0.5];this.cc=this.A=this.J=this.h=this.g=s;this.Ac=[];this.Ra=p;this.zc=this.cd=1;this.uc=s;this.Wc=t;this.M=1;this.L=0;this.Vc=p;this.vc=s}var Vc="TRIANGLES";S.prototype.__defineSetter__("type",function(a){return this.aa=a});S.prototype.__defineGetter__("type",u("aa"));
S.prototype.__defineGetter__("texture",function(){this.A||(this.A=new Uc);return this.A});S.prototype.__defineGetter__("transform",u("dc"));S.prototype.__defineGetter__("points",u("g"));S.prototype.__defineSetter__("points",ba("g"));S.prototype.__defineGetter__("normals",u("h"));S.prototype.__defineSetter__("normals",ba("h"));S.prototype.__defineGetter__("colors",u("J"));S.prototype.__defineSetter__("colors",ba("J"));S.prototype.__defineGetter__("color",u("rb"));
S.prototype.__defineSetter__("color",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid color."));for(var b=this.d,c=b.length,d=0,d=0;d<c;d++)b[d].color=a;this.rb=a;this.e=p});S.prototype.__defineGetter__("opacity",u("M"));S.prototype.__defineSetter__("opacity",function(a){(!E(a)||1<a||0>a)&&k(Error("Invalid opacity."));for(var b=this.d,c=b.length,d=0,d=0;d<c;d++)b[d].opacity=a;this.M=a;this.e=p});S.prototype.__defineGetter__("caption",u("uc"));
S.prototype.__defineSetter__("caption",function(a){this.uc=a;this.e=p});S.prototype.__defineGetter__("visible",u("Ra"));S.prototype.__defineSetter__("visible",function(a){for(var b=this.d,c=b.length,d=0,d=0;d<c;d++)b[d].visible=a;this.Ra=a;this.e=p});S.prototype.__defineGetter__("pointsize",u("cd"));S.prototype.__defineSetter__("pointsize",function(a){E(a)||k(Error("Invalid point size."));this.cd=a;this.e=p});S.prototype.__defineGetter__("magicmode",u("Wc"));
S.prototype.__defineSetter__("magicmode",function(a){"boolean"!=typeof a&&k(Error("Invalid magic mode setting."));this.Wc=a;this.e=p});S.prototype.__defineGetter__("linewidth",u("zc"));S.prototype.__defineSetter__("linewidth",function(a){E(a)||k(Error("Invalid line width."));this.zc=a;this.e=p});S.prototype.__defineGetter__("lighting",u("Vc"));S.prototype.__defineSetter__("lighting",function(a){this.Vc=a;this.e=p});S.prototype.__defineGetter__("cullface",u("vc"));
S.prototype.__defineSetter__("cullface",function(a){this.vc=a;this.e=p});function Wc(){M.call(this);this.c="indexer";this.Xe=[];this.yl=[];this.zb={}}I(Wc,M);Wc.prototype.add=function(a){a==s&&k(Error("Invalid object."));var b=window.JSON.stringify(a);b in this.zb||(this.zb[b]=this.Xe.length,this.Xe.push(a));return this.zb[b]};Wc.prototype.unique=u("Xe");function U(a){M.call(this);this.c="object";this.d=[];this.u=this.da=s;ya(this,new S);a!=s&&this.ec(a)}I(U,M);
U.prototype.ec=function(a){this.aa=a.aa;this.dc=new Sc;this.dc.D=new Qc(a.dc.D.P);this.rb=a.rb.slice();a.g&&(this.g=new N(a.g.length,a.g));a.h&&(this.h=new N(a.h.length,a.h));a.J&&(this.J=new N(a.J.length,a.J));this.A=a.A;this.cc=a.cc;a.q&&(this.q=new rc((new String(a.q.Md)).toString()));this.M=a.M;this.d.length=0;var b=a.d;if(b)for(var c=b.length,d=0,d=0;d<c;d++)this.d.push(new J[b[d].c](b[d]));this.Ra=a.Ra;this.cd=a.cd;this.zc=a.zc;a.uc&&(this.uc=(new String(a.uc)).toString());this.Wc=a.Wc;this.Ac=
a.Ac.slice();this.Vc=a.Vc;this.vc=a.vc;this.e=p};U.prototype.__defineGetter__("colortable",function(){this.da||(this.da=new yc);return this.da});U.prototype.__defineGetter__("scalars",function(){this.u||(this.u=new tc);return this.u});U.prototype.__defineGetter__("children",u("d"));U.prototype.s=function(){var a=new Xc;a.T=this;this.dispatchEvent(a)};
function Yc(a,b){(a==s||b==s||!(a instanceof U)||!(b instanceof U))&&k(Error("Fatal: Two valid X.objects are required for comparison."));return 1==a.M?-1:1==b.M?1:a.L!=s&&b.L!=s&&a.L>b.L?-1:1}function Zc(a,b){(a==s||b==s||!(a instanceof U)||!(b instanceof U))&&k(Error("Fatal: Two valid X.objects are required for comparison."));return a.ma<b.ma?-1:1}G("X.object",U);G("X.object.prototype.modified",U.prototype.s);function $c(a){Pb.call(this,a);this.c="event"}I($c,Pb);
function ad(){$c.call(this,"g");this.Le=this.Ze=0}I(ad,$c);function bd(){$c.call(this,"a");this.L=new Fc(0,0)}I(bd,$c);function cd(){$c.call(this,"b");this.L=new Fc(0,0)}I(cd,$c);function dd(){$c.call(this,"c");this.Oa=this.Za=t}I(dd,$c);function ed(){$c.call(this,"d");this.I=t}I(ed,$c);function fd(){$c.call(this,"j");this.Ud=this.Td=0}I(fd,$c);function gd(){$c.call(this,"k")}I(gd,$c);function hd(){$c.call(this,"f")}I(hd,$c);function Xc(){$c.call(this,"h");this.o=this.T=s}I(Xc,$c);
function id(){$c.call(this,"i");this.pg=0}I(id,$c);function V(){M.call(this);this.c="parser";this.K=s;this.j=0;this.Nh=0<(new Int8Array((new Int16Array([1])).buffer))[0];this.Id=p;this.Al=-Infinity;this.zl=Infinity}I(V,M);V.prototype.parse=function(){k(Error("The function parse() should be overloaded."))};function jd(a){for(var b=Infinity,c=-Infinity,d=a.length,e=0,e=0;e<d;e++)var f=a[e],b=Math.min(b,f),c=Math.max(c,f);return[b,c]}
function kd(a,b,c){b===n&&(b=0);c===n&&(c=a.length);for(var d="",e=0,e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}
function W(a,b,c){c!=s||(c=1);var d=1,e=Uint8Array;switch(b){case "schar":e=Int8Array;break;case "ushort":e=Uint16Array;d=2;break;case "sshort":e=Int16Array;d=2;break;case "uint":e=Uint32Array;d=4;break;case "sint":e=Int32Array;d=4;break;case "float":e=Float32Array,d=4}b=new e(a.K.slice(a.j,a.j+=c*d));if(a.Nh!=a.Id){a=b;b=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);for(e=0;e<a.byteLength;e+=d)for(var f=e+d-1,g=e;f>g;f--,g++){var h=b[g];b[g]=b[f];b[f]=h}b=a}return 1==c?b[0]:b}
function ld(a,b,c){J.wa(a.c+".reslice");var d=b.ea,e=c.max,f=c.data,g=d[2],h=d[1],d=d[0],l=b.r!=s,m=h*d,q=Array(g),r=Array(g),x=0,w=s;b.da&&(w=b.da.zb);for(var y=0,A=0,D=0,H=0,z=4*m,y=0;y<g;y++){q[y]=Array(h);r[y]=Array(h);for(var F=f.subarray(y*m,(y+1)*m),T=new Uint8Array(z),A=H=0;A<h;A++){q[y][A]=new c.data.constructor(d);r[y][A]=new c.data.constructor(d);for(D=0;D<d;D++){var x=F[H],P=0,ga=0,Y=0,Z=0;w?(Z=w.get(Math.floor(x)),Z||(P=w.Ua(),Z=P[P.length-1]),P=255*Z[1],ga=255*Z[2],Y=255*Z[3],Z=255*
Z[4]):(P=ga=Y=255*(x/e),Z=255);var ma=4*H;T[ma]=P;T[++ma]=ga;T[++ma]=Y;T[++ma]=Z;q[y][A][D]=255*(x/e);r[y][A][D]=x;H++}}x=new Uc;x.Aa=T;x.Hb=d;x.Gb=h;F=b.hb.d[y];F.A=x;l&&(F.r=b.r.hb.d[y].A)}b.Re&&(d!=h?l?b.da?(md(g,d,h,r,b.da,b.V,b.r.V,p),md(g,h,d,r,b.da,b.U,b.r.U,t)):(nd(g,d,h,q,b.V,b.r.V,p),nd(g,h,d,q,b.U,b.r.U,t)):b.da?(md(g,d,h,r,b.da,b.V,s,p),md(g,h,d,r,b.da,b.U,s,t)):(nd(g,d,h,q,b.V,s,p),nd(g,h,d,q,b.U,s,t)):l?b.da?od(g,d,h,q,b.da,b.U,b.r.U,b.V,b.r.V):pd(g,d,h,q,b.U,b.r.U,b.V,b.r.V):b.da?od(g,
d,h,r,b.da,b.U,s,b.V,s):pd(g,d,h,q,b.U,s,b.V,s));J.qa(a.c+".reslice");return r}function nd(a,b,c,d,e,f,g){for(var h=4*a*b,l=0,l=0;l<c;l++){for(var m=new Uint8Array(h),q=0,r=0,q=0;q<a;q++)for(var x=0,w=d[q],x=0;x<b;x++){var y,A=y=g?w[l][x]:w[x][l],D=y,H=4*r;m[H]=y;m[++H]=A;m[++H]=D;m[++H]=255;r++}q=new Uc;q.Aa=m;q.Hb=b;q.Gb=a;m=e.d[l];m.A=q;f&&(m.r=f.d[l].A)}}
function md(a,b,c,d,e,f,g,h){e=e.zb;for(var l=4*a*b,m=0,m=0;m<c;m++){for(var q=new Uint8Array(l),r=0,x=0,r=0;r<a;r++)for(var w=d[r],y=0,y=0;y<b;y++){var A=e.get(Math.floor(h?w[m][y]:w[y][m]));A||(A=e.Ua(),A=A[A.length-1]);var D=255*A[2],H=255*A[3],z=255*A[4],F=4*x;q[F]=255*A[1];q[++F]=D;q[++F]=H;q[++F]=z;x++}r=new Uc;r.Aa=q;r.Hb=b;r.Gb=a;q=f.d[m];q.A=r;g&&(q.r=g.d[m].A)}}
function pd(a,b,c,d,e,f,g,h){for(var l=4*a*b,m=0,m=0;m<c;m++){for(var q=new Uint8Array(l),r=new Uint8Array(l),x=0,w=0,w=0;w<a;w++)for(var y=d[w],A=0,A=0;A<b;A++){var D=y[A][m],H=D,z=D,F=4*x;q[F]=D;q[++F]=H;q[++F]=z;q[++F]=255;z=H=D=F=y[m][A];F=4*x;r[F]=D;r[++F]=H;r[++F]=z;r[++F]=255;x++}x=new Uc;x.Aa=q;x.Hb=b;x.Gb=a;q=e.d[m];q.A=x;f&&(q.r=f.d[m].A);q=new Uc;q.Aa=r;q.Hb=b;q.Gb=a;r=g.d[m];r.A=q;h&&(r.r=h.d[m].A)}}
function od(a,b,c,d,e,f,g,h,l){e=e.zb;for(var m=4*a*b,q=0,q=0;q<c;q++){for(var r=new Uint8Array(m),x=new Uint8Array(m),w=0,y=0,y=0;y<a;y++)for(var A=d[y],D=0,D=0;D<b;D++){var H=e.get(Math.floor(A[D][q]));if(!H)var z=e.Ua(),H=z[z.length-1];var F=255*H[2],T=255*H[3],P=255*H[4],z=4*w;r[z]=255*H[1];r[++z]=F;r[++z]=T;r[++z]=P;z=e.get(Math.floor(A[q][D]));z||(z=e.Ua(),z=z[z.length-1]);H=255*z[1];F=255*z[2];T=255*z[3];P=255*z[4];z=4*w;x[z]=H;x[++z]=F;x[++z]=T;x[++z]=P;w++}w=new Uc;w.Aa=r;w.Hb=b;w.Gb=a;r=
f.d[q];r.A=w;g&&(r.r=g.d[q].A);r=new Uc;r.Aa=x;r.Hb=b;r.Gb=a;x=h.d[q];x.A=r;l&&(x.r=l.d[q].A)}}function qd(){V.call(this);this.c="parserVTK"}I(qd,V);
qd.prototype.parse=function(a,b,c){J.wa(this.c+".parse");var d=b.g,e=b.h,f=new Uint8Array(c),g="";b.g=d=new N(c.byteLength);b.h=e=new N(c.byteLength);c=0;for(var h=f.length;c<h;c+=32768)g+=kd(f,c,Math.min(c+32768,h));f=g.split("\n");g=f.length;this.ed=this.fd=s;this.Qb=[];this.ya=Vc;this.Pe=this.Eb=this.sb=this.Fb=t;c=0;for(h=g%8;h--;)rd(this,f[c]),c++;for(h=0.125*g^0;h--;)rd(this,f[c]),c++,rd(this,f[c]),c++,rd(this,f[c]),c++,rd(this,f[c]),c++,rd(this,f[c]),c++,rd(this,f[c]),c++,rd(this,f[c]),c++,
rd(this,f[c]),c++;c=this.fd;var f=this.ed,g=f.length,l=h=this.Qb.length;do{var m=this.Qb[h-l],q=m.length,r;for(r=0;r<q&&!("LINES"==this.ya&&r+1>=q);r++){var x=parseInt(m[r],10),w=c.get(x);d.add(w[0],w[1],w[2]);var y=x,A=w;"LINES"==this.ya?(y=parseInt(m[r+1],10),A=c.get(y),d.add(A[0],A[1],A[2])):"TRIANGLE_STRIPS"==this.ya&&(0==r||r==q-1)&&d.add(w[0],w[1],w[2]);x<g?(A=f.get(x),e.add(A[0],A[1],A[2]),"LINES"==this.ya?(y=f.get(y),e.add(y[0],y[1],y[2])):"TRIANGLE_STRIPS"==this.ya&&(0==r||r==q-1)&&e.add(A[0],
A[1],A[2])):(y=new R(w[0],w[1],w[2]),y.normalize(),e.add(y.x,y.y,y.b),"LINES"==this.ya?(y=new R(A[0],A[1],A[2]),y.normalize(),e.add(y.x,y.y,y.b)):"TRIANGLE_STRIPS"==this.ya&&(0==r||r==q-1)&&e.add(y.x,y.y,y.b))}l--}while(0<l);b.aa=this.ya;J.qa(this.c+".parse");d=new Xc;d.T=b;d.o=a;this.dispatchEvent(d)};
function rd(a,b){b=b.replace(/^\s+|\s+$/g,"");var c=b.split(" "),d=c.length,e=c[0];switch(e){case "POINTS":a.Fb=p;a.sb=t;a.Eb=t;c=parseInt(c[1],10);a.fd=new N(3*c);a.ed=new N(3*c);return;case "VERTICES":a.sb=p;a.Fb=t;a.Eb=t;c=parseInt(c[1],10);3<=c?a.ya=Vc:1==c?a.ya="POINTS":k(Error("This VTK file is not supported!"));a.Qb=[];return;case "TRIANGLE_STRIPS":a.sb=p;a.Fb=t;a.Eb=t;a.ya="TRIANGLE_STRIPS";a.Qb=[];return;case "LINES":a.sb=p;a.Fb=t;a.Eb=t;a.ya="LINES";a.Qb=[];return;case "POLYGONS":a.sb=p;
a.Fb=t;a.Eb=t;a.ya="POLYGONS";a.Qb=[];return;case "POINT_DATA":a.Eb=p;a.Fb=t;a.sb=t;return}if(a.Fb)if(1==d||isNaN(parseFloat(e)))a.Fb=t;else{if(3<=d){var e=parseFloat(c[0]),f=parseFloat(c[1]),g=parseFloat(c[2]);a.fd.add(e,f,g)}6<=d&&(e=parseFloat(c[3]),f=parseFloat(c[4]),g=parseFloat(c[5]),a.fd.add(e,f,g));9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.fd.add(d,e,c))}else a.sb?1==d||isNaN(parseFloat(e))?a.sb=t:(c=c.slice(1),a.Qb.push(c)):a.Eb&&("NORMALS"==e?a.Pe=p:1==d||isNaN(parseFloat(e))?
(a.Eb=t,a.Pe=t):a.Pe&&(3<=d&&(e=parseFloat(c[0]),f=parseFloat(c[1]),g=parseFloat(c[2]),a.ed.add(e,f,g)),6<=d&&(e=parseFloat(c[3]),f=parseFloat(c[4]),g=parseFloat(c[5]),a.ed.add(e,f,g)),9<=d&&(d=parseFloat(c[6]),e=parseFloat(c[7]),c=parseFloat(c[8]),a.ed.add(d,e,c))))}G("X.parserVTK",qd);G("X.parserVTK.prototype.parse",qd.prototype.parse);function sd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}sd.prototype.f=function(){return new sd(this.top,this.right,this.bottom,this.left)};
ca.Ja&&(sd.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"});v=sd.prototype;v.contains=function(a){return!this||!a?t:a instanceof sd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};v.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
v.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};v.translate=function(a,b){a instanceof Dc?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,E(b)&&(this.top+=b,this.bottom+=b));return this};v.scale=function(a,b){var c=E(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};B("goog.i18n.bidi.FORCE_RTL",t);
pb("area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr");function td(){this.Bf="";this.Dh=ud;this.gi=s}ca.Ja&&(td.prototype.toString=function(){return"SafeHtml{"+this.Bf+"}"});pb("action","cite","data","formaction","href","manifest","poster","src");pb("EMBED","IFRAME","LINK","OBJECT","SCRIPT","STYLE","TEMPLATE");var ud={};td.prototype.zi=function(a){this.Bf=a;this.gi=s;return this};var vd=!K||9<=Gb;!ub&&!K||K&&9<=Gb||ub&&Eb("1.9.1");
K&&Eb("9");B("goog.dom.ASSUME_QUIRKS_MODE",t);B("goog.dom.ASSUME_STANDARDS_MODE",t);var wd=Sa.vk||Sa.wh;function xd(a){return a?new yd(zd(a)):Ta||(Ta=new yd)}function Ad(a,b){return na(b)?a.getElementById(b):b}function Bd(a,b){ib(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Cd.hasOwnProperty(d)?a.setAttribute(Cd[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var Cd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Dd(a){return a.Pj?a.Pj:!vb&&Ed(a)?a.documentElement:a.body||a.documentElement}function Fd(a,b,c){return Gd(document,arguments)}
function Gd(a,b){var c=b[0],d=b[1];if(!vd&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ea(d.name),'"');if(d.type){c.push(' type="',Ea(d.type),'"');var e={};ob(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(na(d)?c.className=d:C(d)?c.className=d.join(" "):Bd(c,d));2<b.length&&Hd(a,c,b);return c}
function Hd(a,b,c){function d(c){c&&b.appendChild(na(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];la(f)&&!(pa(f)&&0<f.nodeType)?cb(Id(f)?hb(f):f,d):d(f)}}function Ed(a){return wd?Sa.wh:"CSS1Compat"==a.compatMode}function Jd(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Kd(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}
function Ld(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function zd(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Id(a){if(a&&"number"==typeof a.length){if(pa(a))return"function"==typeof a.item||"string"==typeof a.item;if(oa(a))return"function"==typeof a.item}return t}function yd(a){this.Z=a||ea.document||document}v=yd.prototype;
v.pd=xd;v.i=function(a){return Ad(this.Z,a)};v.oh=yd.prototype.i;v.Dc=function(a,b,c){return Gd(this.Z,arguments)};v.createElement=function(a){return this.Z.createElement(a)};v.createTextNode=function(a){return this.Z.createTextNode(String(a))};function Md(a){return Ed(a.Z)}function Nd(a){var b=a.Z;a=Dd(b);b=b.parentWindow||b.defaultView;return K&&Eb("10")&&b.pageYOffset!=a.scrollTop?new Dc(a.scrollLeft,a.scrollTop):new Dc(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}
v.Eg=function(a){var b;a:{a=a||this.Z;try{b=a&&a.activeElement;break a}catch(c){}b=s}return b};v.appendChild=function(a,b){a.appendChild(b)};v.contains=Ld;function Od(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Od.prototype.f=function(){return new Od(this.left,this.top,this.width,this.height)};ca.Ja&&(Od.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"});v=Od.prototype;
v.Ng=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top);a=Math.min(this.top+this.height,a.top+a.height);if(d<=a)return this.left=b,this.top=d,this.width=c-b,this.height=a-d,p}return t};v.contains=function(a){return a instanceof Od?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
v.ta=function(){return new Hc(this.width,this.height)};v.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};v.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};v.translate=function(a,b){a instanceof Dc?(this.left+=a.x,this.top+=a.y):(this.left+=a,E(b)&&(this.top+=b));return this};
v.scale=function(a,b){var c=E(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function Pd(a,b){var c=zd(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,s))?c[b]||c.getPropertyValue(b)||"":""}function Qd(a,b){return Pd(a,b)||(a.currentStyle?a.currentStyle[b]:s)||a.style&&a.style[b]}function Rd(a){a=a?zd(a):document;return K&&!(9<=Gb)&&!Md(xd(a))?a.body:a.documentElement}
function Sd(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}K&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Td(a){if(K&&!(8<=Gb))return a.offsetParent;var b=zd(a),c=Qd(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=Qd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return s}
function Ud(a){for(var b=new sd(0,Infinity,Infinity,0),c=xd(a),d=c.Z.body,e=c.Z.documentElement,f=Dd(c.Z);a=Td(a);)if((!K||0!=a.clientWidth)&&(!vb||0!=a.clientHeight||a!=d)&&a!=d&&a!=e&&"visible"!=Qd(a,"overflow")){var g=Vd(a),h=new Dc(a.clientLeft,a.clientTop);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,
f);c=(c.Z.parentWindow||c.Z.defaultView||window).document;c=Ed(c)?c.documentElement:c.body;c=new Hc(c.clientWidth,c.clientHeight);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:s}function Vd(a){var b=zd(a),c=new Dc(0,0),d=Rd(b);if(a==d)return c;a=Sd(a);b=Nd(xd(b));c.x=a.left+b.x;c.y=a.top+b.y;return c}function Wd(a){"number"==typeof a&&(a+="px");return a}
function Xd(a){var b=Yd;if("none"!=Qd(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}function Yd(a){var b=a.offsetWidth,c=a.offsetHeight,d=vb&&!b&&!c;return(!fa(b)||d)&&a.getBoundingClientRect?(a=Sd(a),new Hc(a.right-a.left,a.bottom-a.top)):new Hc(b,c)}function Zd(a,b){a.style.display=b?"":"none"}function $d(a){return"rtl"==Qd(a,"direction")}
function ae(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}function be(a,b){var c=a.currentStyle?a.currentStyle[b]:s;return c?ae(a,c):0}var ce={thin:2,medium:4,thick:6};function de(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:s))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:s;return c in ce?ce[c]:ae(a,c)}
var ee={};B("goog.html.legacyconversions.ALLOW_LEGACY_CONVERSIONS",p);
function fe(a,b,c,d,e,f,g,h){var l,m;if(l=c.offsetParent){var q="HTML"==l.tagName||"BODY"==l.tagName;if(!q||"static"!=Qd(l,"position"))m=Vd(l),q||(q=(q=$d(l))&&ub?-l.scrollLeft:q&&(!K||!Eb("8"))&&"visible"!=Qd(l,"overflowX")?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft,m=Ec(m,new Dc(q,l.scrollTop)))}l=m||new Dc;m=Vd(a);q=Xd(a);m=new Od(m.x,m.y,q.width,q.height);(q=Ud(a))&&m.Ng(new Od(q.left,q.top,q.right-q.left,q.bottom-q.top));var q=xd(a),r=xd(c);if(q.Z!=r.Z){var x=q.Z.body,r=r.Z.parentWindow||
r.Z.defaultView,w=new Dc(0,0),y=zd(x)?zd(x).parentWindow||zd(x).defaultView:window,A=x;do{var D;y==r?D=Vd(A):(D=Sd(A),D=new Dc(D.left,D.top));w.x+=D.x;w.y+=D.y}while(y&&y!=r&&y!=y.parent&&(A=y.frameElement)&&(y=y.parent));x=Ec(w,Vd(x));if(r=K)r=!(9<=Gb)&&!Md(q);r&&(x=Ec(x,Nd(q)));m.left+=x.x;m.top+=x.y}a=(b&4&&$d(a)?b^2:b)&-5;b=new Dc(a&2?m.left+m.width:m.left,a&1?m.top+m.height:m.top);b=Ec(b,l);e&&(b.x+=(a&2?-1:1)*e.x,b.y+=(a&1?-1:1)*e.y);var H;if(g&&(H=Ud(c)))H.top-=l.y,H.right-=l.x,H.bottom-=l.y,
H.left-=l.x;return ge(b,c,d,f,H,g,h)}
function ge(a,b,c,d,e,f,g){a=a.f();var h=(c&4&&$d(b)?c^2:c)&-5;c=Xd(b);g=g?g.f():c.f();a=a.f();g=g.f();var l=0;if(d||0!=h)h&2?a.x-=g.width+(d?d.right:0):d&&(a.x+=d.left),h&1?a.y-=g.height+(d?d.bottom:0):d&&(a.y+=d.top);if(f){if(e){d=a;h=g;l=0;if(65==(f&65)&&(d.x<e.left||d.x>=e.right))f&=-2;if(132==(f&132)&&(d.y<e.top||d.y>=e.bottom))f&=-5;d.x<e.left&&f&1&&(d.x=e.left,l|=1);if(f&16){var m=d.x;d.x<e.left&&(d.x=e.left,l|=4);d.x+h.width>e.right&&(h.width=Math.min(e.right-d.x,m+h.width-e.left),h.width=
Math.max(h.width,0),l|=4)}d.x+h.width>e.right&&f&1&&(d.x=Math.max(e.right-h.width,e.left),l|=1);f&2&&(l|=(d.x<e.left?16:0)|(d.x+h.width>e.right?32:0));d.y<e.top&&f&4&&(d.y=e.top,l|=2);f&32&&(m=d.y,d.y<e.top&&(d.y=e.top,l|=8),d.y+h.height>e.bottom&&(h.height=Math.min(e.bottom-d.y,m+h.height-e.top),h.height=Math.max(h.height,0),l|=8));d.y+h.height>e.bottom&&f&4&&(d.y=Math.max(e.bottom-h.height,e.top),l|=2);f&8&&(l|=(d.y<e.top?64:0)|(d.y+h.height>e.bottom?128:0));e=l}else e=256;l=e}f=new Od(0,0,0,0);
f.left=a.x;f.top=a.y;f.width=g.width;f.height=g.height;e=l;if(e&496)return e;a=new Dc(f.left,f.top);a instanceof Dc?(g=a.x,a=a.y):(g=a,a=n);b.style.left=Wd(g);b.style.top=Wd(a);g=f.ta();Ic(c,g)||(c=g,a=Md(xd(zd(b))),K&&!Eb("10")&&(!a||!Eb("8"))?(g=b.style,a?(K?(a=be(b,"paddingLeft"),f=be(b,"paddingRight"),d=be(b,"paddingTop"),h=be(b,"paddingBottom"),a=new sd(d,f,h,a)):(a=Pd(b,"paddingLeft"),f=Pd(b,"paddingRight"),d=Pd(b,"paddingTop"),h=Pd(b,"paddingBottom"),a=new sd(parseFloat(d),parseFloat(f),parseFloat(h),
parseFloat(a))),K&&!(9<=Gb)?(f=de(b,"borderLeft"),d=de(b,"borderRight"),h=de(b,"borderTop"),b=de(b,"borderBottom"),b=new sd(h,d,b,f)):(f=Pd(b,"borderLeftWidth"),d=Pd(b,"borderRightWidth"),h=Pd(b,"borderTopWidth"),b=Pd(b,"borderBottomWidth"),b=new sd(parseFloat(h),parseFloat(d),parseFloat(b),parseFloat(f))),g.pixelWidth=c.width-b.left-a.left-a.right-b.right,g.pixelHeight=c.height-b.top-a.top-a.bottom-b.bottom):(g.pixelWidth=c.width,g.pixelHeight=c.height)):(b=b.style,ub?b.MozBoxSizing="border-box":
vb?b.WebkitBoxSizing="border-box":b.boxSizing="border-box",b.width=Math.max(c.width,0)+"px",b.height=Math.max(c.height,0)+"px"));return e}function he(){}he.prototype.Wa=aa();function ie(a,b,c){this.element=a;this.yg=b;this.uj=c}I(ie,he);ie.prototype.Wa=function(a,b,c){fe(this.element,this.yg,a,b,n,c,this.uj)};function je(a,b){this.jf=a instanceof Dc?a:new Dc(a,b)}I(je,he);je.prototype.Wa=function(a,b,c,d){fe(Rd(a),0,a,b,this.jf,c,s,d)};
function ke(a,b,c){this.Ji=c;this.Lb=a;this.Hj=b;this.oe=0;this.ke=s}ke.prototype.get=function(){var a;0<this.oe?(this.oe--,a=this.ke,this.ke=a.next,a.next=s):a=this.Lb();return a};ke.prototype.put=function(a){this.Hj(a);this.oe<this.Ji&&(this.oe++,a.next=this.ke,this.ke=a)};function le(a){ea.setTimeout(function(){k(a)},0)}var me;
function ne(){var a=ea.MessageChannel;"undefined"===typeof a&&("undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Ra("Presto"))&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=ua(function(a){if(!("*"!=d&&a.origin!=d||a.data!=
c))this.port1.onmessage()},this);b.addEventListener("message",a,t);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Ra("Trident")&&!Ra("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(fa(c.next)){c=c.next;var a=c.ug;c.ug=s;a()}};return function(a){d.next={ug:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=s;b.parentNode.removeChild(b);b=s;a();a=s};document.documentElement.appendChild(b)}:function(a){ea.setTimeout(a,0)}}function oe(){this.ze=this.Oc=s}B("goog.async.WorkQueue.DEFAULT_MAX_UNUSED",100);var qe=new ke(function(){return new pe},function(a){a.reset()},oe.Ah);oe.prototype.add=function(a,b){var c=qe.get();c.set(a,b);this.ze?this.ze.next=c:this.Oc=c;this.ze=c};
oe.prototype.remove=function(){var a=s;this.Oc&&(a=this.Oc,this.Oc=this.Oc.next,this.Oc||(this.ze=s),a.next=s);return a};function pe(){this.next=this.scope=this.of=s}pe.prototype.set=function(a,b){this.of=a;this.scope=b;this.next=s};pe.prototype.reset=function(){this.next=this.scope=this.of=s};var re=[];function se(a,b){te||ue();ve||(te(),ve=p);we.add(a,b)}var te;
function ue(){if(ea.Uf&&ea.Uf.Ij){var a=ea.Uf.Ij(n);te=function(){a.Lf(xe)}}else te=function(){var a=xe;oa(ea.setImmediate)&&(!ea.Wf||!ea.Wf.prototype||ea.Wf.prototype.setImmediate!=ea.setImmediate)?ea.setImmediate(a):(me||(me=ne()),me(a))}}var ve=t,we=new oe;ca.Ja&&re.push(function(){ve=t;we=new oe});function xe(){for(var a=s;a=we.remove();){try{a.of.call(a.scope)}catch(b){le(b)}qe.put(a)}ve=t}
function ye(a,b){this.pb=ze;this.Cf=n;this.Yd=this.Bc=this.Ea=s;this.nf=t;0<ye.sc?this.xe=0:0==ye.sc&&(this.ge=t);ye.Pc&&(this.Jf=[],Ae(this,Error("created")),this.Ag=0);if(a!=ja)try{var c=this;a.call(b,function(a){Be(c,Ce,a)},function(a){if(ca.Ja)try{a instanceof Error&&k(a),k(Error("Promise rejected."))}catch(b){}Be(c,De,a)})}catch(d){Be(this,De,d)}}B("goog.Promise.LONG_STACK_TRACES",t);B("goog.Promise.UNHANDLED_REJECTION_DELAY",0);var ze=0,Ce=2,De=3;
function Ee(){this.next=this.kd=this.Ic=this.vd=this.Cc=s;this.af=t}Ee.prototype.reset=function(){this.kd=this.Ic=this.vd=this.Cc=s;this.af=t};B("goog.Promise.DEFAULT_MAX_UNUSED",100);var Fe=new ke(function(){return new Ee},function(a){a.reset()},ye.Ah);function Ge(a,b,c){var d=Fe.get();d.vd=a;d.Ic=b;d.kd=c;return d}ye.prototype.Lf=function(a,b,c){ye.Pc&&Ae(this,Error("then"));return He(this,oa(a)?a:s,oa(b)?b:s,c)};var Ie=ye;Ie.prototype.then=Ie.prototype.Lf;Ie.prototype.$goog_Thenable=p;
function Je(a,b){!a.Bc&&(a.pb==Ce||a.pb==De)&&Ke(a);a.Yd?a.Yd.next=b:a.Bc=b;a.Yd=b}function He(a,b,c,d){var e=Ge(s,s,s);e.Cc=new ye(function(a,g){e.vd=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.Ic=c?function(b){try{var e=c.call(d,b);a(e)}catch(m){g(m)}}:g});e.Cc.Ea=a;Je(a,e);return e.Cc}ye.prototype.ik=function(a){this.pb=ze;Be(this,Ce,a)};ye.prototype.jk=function(a){this.pb=ze;Be(this,De,a)};
function Be(a,b,c){if(a.pb==ze){a==c&&(b=De,c=new TypeError("Promise cannot resolve to itself"));a.pb=1;var d;a:{var e=c,f=a.ik,g=a.jk;if(e instanceof ye)ye.Pc&&Ae(e,Error("then")),Je(e,Ge(f||ja,g||s,a)),d=p;else{var h;if(e)try{h=!!e.$goog_Thenable}catch(l){h=t}else h=t;if(h)e.Lf(f,g,a),d=p;else{if(pa(e))try{var m=e.then;if(oa(m)){Le(e,m,f,g,a);d=p;break a}}catch(q){g.call(a,q);d=p;break a}d=t}}}d||(a.Cf=c,a.pb=b,a.Ea=s,Ke(a),b==De&&Me(a,c))}}
function Le(a,b,c,d,e){function f(a){h||(h=p,d.call(e,a))}function g(a){h||(h=p,c.call(e,a))}var h=t;try{b.call(a,g,f)}catch(l){f(l)}}function Ke(a){a.nf||(a.nf=p,se(a.ji,a))}function Ne(a){var b=s;a.Bc&&(b=a.Bc,a.Bc=b.next,b.next=s);a.Bc||(a.Yd=s);return b}
ye.prototype.ji=function(){for(var a=s;a=Ne(this);){ye.Pc&&this.Ag++;var b=this.pb,c=this.Cf;if(b==De&&a.Ic&&!a.af)if(0<ye.sc)for(var d=this;d&&d.xe;d=d.Ea)ea.clearTimeout(d.xe),d.xe=0;else if(0==ye.sc)for(d=this;d&&d.ge;d=d.Ea)d.ge=t;if(a.Cc)a.Cc.Ea=s,Oe(a,b,c);else try{a.af?a.vd.call(a.kd):Oe(a,b,c)}catch(e){Pe.call(s,e)}Fe.put(a)}this.nf=t};function Oe(a,b,c){b==Ce?a.vd.call(a.kd,c):a.Ic&&a.Ic.call(a.kd,c)}
function Ae(a,b){if(ye.Pc&&na(b.stack)){var c=b.stack.split("\n",4)[3],d=b.message,d=d+Array(11-d.length).join(" ");a.Jf.push(d+c)}}function Qe(a,b){if(ye.Pc&&b&&na(b.stack)&&a.Jf.length){for(var c=["Promise trace:"],d=a;d;d=d.Ea){for(var e=a.Ag;0<=e;e--)c.push(d.Jf[e]);c.push("Value: ["+(d.pb==De?"REJECTED":"FULFILLED")+"] <"+String(d.Cf)+">")}b.stack+="\n\n"+c.join("\n")}}
function Me(a,b){0<ye.sc?a.xe=ea.setTimeout(function(){Qe(a,b);Pe.call(s,b)},ye.sc):0==ye.sc&&(a.ge=p,se(function(){a.ge&&(Qe(a,b),Pe.call(s,b))}))}var Pe=le;function Re(a,b,c){oa(a)?c&&(a=ua(a,c)):a&&"function"==typeof a.handleEvent?a=ua(a.handleEvent,a):k(Error("Invalid listener argument"));return 2147483647<b?-1:ea.setTimeout(a,b||0)}function Se(a){Lb.call(this);this.Ca=a;this.w={}}I(Se,Lb);var Te=[];v=Se.prototype;
v.jc=function(a,b,c,d){C(b)||(b&&(Te[0]=b.toString()),b=Te);for(var e=0;e<b.length;e++){var f=L(a,b[e],c||this.handleEvent,d||t,this.Ca||this);if(!f)break;this.w[f.key]=f}return this};v.Sg=function(a,b,c,d){return Ue(this,a,b,c,d)};function Ue(a,b,c,d,e,f){if(C(c))for(var g=0;g<c.length;g++)Ue(a,b,c[g],d,e,f);else{b=ic(b,c,d||a.handleEvent,e,f||a.Ca||a);if(!b)return a;a.w[b.key]=b}return a}
v.Pf=function(a,b,c,d,e){if(C(b))for(var f=0;f<b.length;f++)this.Pf(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.Ca||this,c=dc(c),d=!!d,b=Tb(a)?a.qd(b,c,d,e):a?(a=fc(a))?a.qd(b,c,d,e):s:s,b&&(kc(b),delete this.w[b.key]);return this};v.Kc=function(){ib(this.w,function(a,b){this.w.hasOwnProperty(b)&&kc(a)},this);this.w={}};v.ga=function(){Se.n.ga.call(this);this.Kc()};v.handleEvent=function(){k(Error("EventHandler.handleEvent not implemented"))};
function Ve(a,b){oc.call(this);this.Ca=new Se(this);this.Df(a||s);b&&(this.Nc=b)}I(Ve,oc);v=Ve.prototype;v.k=s;v.Uh=p;v.qg=s;v.rg=s;v.ua=t;v.Sj=t;v.rf=-1;v.Pg=-1;v.wi=t;v.ii=p;v.Nc="toggle_display";v.i=u("k");v.Df=function(a){this.ua&&k(Error("Can not change this state of the popup while showing."));this.k=a};
function We(a,b){a.xd&&a.xd.stop();a.td&&a.td.stop();if(b){if(!a.ua&&a.wf()){a.k||k(Error("Caller must call setElement before trying to show the popup"));a.Wa();var c=zd(a.k);a.wi&&a.Ca.jc(c,"keydown",a.Ui,p);if(a.Uh)if(a.Ca.jc(c,"mousedown",a.Xg,p),K){var d;try{d=c.activeElement}catch(e){}for(;d&&"IFRAME"==d.nodeName;){try{var f=d.contentDocument||d.contentWindow.document}catch(g){break}c=f;d=c.activeElement}a.Ca.jc(c,"mousedown",a.Xg,p);a.Ca.jc(c,"deactivate",a.Wg)}else a.Ca.jc(c,"blur",a.Wg);"toggle_display"==
a.Nc?(a.k.style.visibility="visible",Zd(a.k,p)):"move_offscreen"==a.Nc&&a.Wa();a.ua=p;a.rf=xa();a.Pg=-1;a.xd?(ic(a.xd,"end",a.$g,t,a),a.xd.play()):a.$g()}}else Xe(a)}v.Wa=ja;function Xe(a,b){if(!a.ua||!a.dispatchEvent({type:"beforehide",target:b}))return t;a.Ca&&a.Ca.Kc();a.ua=t;a.Pg=xa();a.td?(ic(a.td,"end",va(a.xg,b),t,a),a.td.play()):a.xg(b);return p}v.xg=function(a){"toggle_display"==this.Nc?this.Sj?Re(this.Kg,0,this):this.Kg():"move_offscreen"==this.Nc&&(this.k.style.top="-10000px");this.xf(a)};
v.Kg=function(){this.k.style.visibility="hidden";Zd(this.k,t)};v.wf=function(){return this.dispatchEvent("beforeshow")};v.$g=function(){this.dispatchEvent("show")};v.xf=function(a){this.dispatchEvent({type:"hide",target:a})};v.Xg=function(a){a=a.target;!Ld(this.k,a)&&(!Ye(this,a)&&(this.rg?Ld(this.rg,a):1)&&!(150>xa()-this.rf))&&Xe(this,a)};v.Ui=function(a){27==a.keyCode&&Xe(this,a.target)&&(a.preventDefault(),a.stopPropagation())};
v.Wg=function(a){if(this.ii){var b=zd(this.k);if("undefined"!=typeof document.activeElement){if(a=b.activeElement,!a||Ld(this.k,a)||"BODY"==a.tagName)return}else if(a.target!=b)return;150>xa()-this.rf||Xe(this)}};function Ye(a,b){return eb(a.qg||[],function(a){return b===a||Ld(a,b)})}v.ga=function(){Ve.sg(this,"disposeInternal");this.Ca.Gc();Ob(this.xd);Ob(this.td);delete this.k;delete this.Ca;delete this.qg};function Ze(a,b){this.xj=4;this.qe=b||n;Ve.call(this,a)}I(Ze,Ve);
Ze.prototype.Wa=function(){if(this.qe){var a=!this.ua&&"move_offscreen"!=this.Nc,b=this.i();a&&(b.style.visibility="hidden",Zd(b,p));this.qe.Wa(b,this.xj,this.Fl);a&&Zd(b,t)}};function $e(a){if("function"==typeof a.mb)a=a.mb();else if(la(a)||na(a))a=a.length;else{var b=0,c;for(c in a)b++;a=b}return a}function cf(a){if("function"==typeof a.Ua)return a.Ua();if(na(a))return a.split("");if(la(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return kb(a)}
function df(a,b){if("function"==typeof a.every)return a.every(b,n);if(la(a)||na(a))return fb(a,b,n);var c;if("function"==typeof a.ce)c=a.ce();else if("function"!=typeof a.Ua)if(la(a)||na(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=lb(a);else c=n;for(var d=cf(a),e=d.length,f=0;f<e;f++)if(!b.call(n,d[f],c&&c[f],a))return t;return p}function ef(a){this.Q=new uc;a&&this.$e(a)}function ff(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[qa]||(a[qa]=++ra)):b.substr(0,1)+a}v=ef.prototype;
v.mb=function(){return this.Q.mb()};v.add=function(a){this.Q.set(ff(a),a)};v.$e=function(a){a=cf(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};v.Kc=function(a){a=cf(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};v.remove=function(a){return this.Q.remove(ff(a))};v.clear=function(){this.Q.clear()};v.contains=function(a){a=ff(a);return wc(this.Q.Q,a)};v.Ng=function(a){var b=new ef;a=cf(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};v.Ua=function(){return this.Q.Ua()};
v.f=function(){return new ef(this)};v.nd=function(a){return this.mb()==$e(a)&&gf(this,a)};function gf(a,b){var c=$e(b);if(a.mb()>c)return t;!(b instanceof ef)&&5<c&&(b=new ef(b));return df(a,function(a){if("function"==typeof b.contains)a=b.contains(a);else if("function"==typeof b.hf)a=b.hf(a);else if(la(b)||na(b))a=0<=bb(b,a);else a:{for(var c in b)if(b[c]==a){a=p;break a}a=t}return a})}
function hf(a){oc.call(this);this.k=a;a=K?"focusout":"blur";this.Ki=L(this.k,K?"focusin":"focus",this,!K);this.Li=L(this.k,a,this,!K)}I(hf,oc);hf.prototype.handleEvent=function(a){var b=new Rb(a.lb);b.type="focusin"==a.type||"focus"==a.type?"focusin":"focusout";this.dispatchEvent(b)};hf.prototype.ga=function(){hf.n.ga.call(this);kc(this.Ki);kc(this.Li);delete this.k};
function jf(a,b,c){this.kb=c||(a?xd(Ad(document,a)):xd());Ze.call(this,this.kb.Dc("DIV",{style:"position:absolute;display:none;"}));this.kf=new Dc(1,1);this.fc=new ef;this.qc=s;a&&kf(this,a);if(b!=s)if(a=this.i(),"textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(;c=a.firstChild;)a.removeChild(c);a.appendChild(zd(a).createTextNode(String(b)))}}
I(jf,Ze);var lf=[];v=jf.prototype;v.na=s;v.className="goog-tooltip";v.jh=500;v.vi=0;v.pd=u("kb");function kf(a,b){b=Ad(document,b);a.fc.add(b);L(b,"mouseover",a.Hg,t,a);L(b,"mouseout",a.he,t,a);L(b,"mousemove",a.Gg,t,a);L(b,"focus",a.Fg,t,a);L(b,"blur",a.he,t,a)}v.detach=function(a){if(a)a=Ad(document,a),mf(this,a),this.fc.remove(a);else{for(var b=this.fc.Ua(),c=0;a=b[c];c++)mf(this,a);this.fc.clear()}};
function mf(a,b){jc(b,"mouseover",a.Hg,t,a);jc(b,"mouseout",a.he,t,a);jc(b,"mousemove",a.Gg,t,a);jc(b,"focus",a.Fg,t,a);jc(b,"blur",a.he,t,a)}v.Df=function(a){var b=this.i();b&&Jd(b);jf.n.Df.call(this,a);a?(b=this.kb.Z.body,b.insertBefore(a,b.lastChild),Ob(this.qc),this.qc=new hf(this.i()),a=va(Ob,this.qc),this.md?a.call(n):(this.mc||(this.mc=[]),this.mc.push(fa(n)?ua(a,n):a)),L(this.qc,"focusin",this.jd,n,this),L(this.qc,"focusout",this.we,n,this)):(Ob(this.qc),this.qc=s)};
v.wf=function(){if(!Ve.prototype.wf.call(this))return t;if(this.anchor)for(var a,b=0;a=lf[b];b++)Ld(a.i(),this.anchor)||We(a,t);0<=bb(lf,this)||lf.push(this);a=this.i();a.className=this.className;this.jd();L(a,"mouseover",this.Jg,t,this);L(a,"mouseout",this.Ig,t,this);nf(this);return p};
v.xf=function(){gb(lf,this);for(var a=this.i(),b,c=0;b=lf[c];c++)b.anchor&&Ld(a,b.anchor)&&We(b,t);this.eh&&this.eh.we();jc(a,"mouseover",this.Jg,t,this);jc(a,"mouseout",this.Ig,t,this);this.anchor=n;if(0==(this.ob?this.ua?4:1:this.Hc?3:this.ua?2:0))this.se=t;Ve.prototype.xf.call(this)};v.Vg=function(a,b){this.anchor==a&&this.fc.contains(this.anchor)&&(this.se||!this.Il?(We(this,t),this.ua||(this.anchor=a,this.qe=b||of(this,0)||n,this.ua&&this.Wa(),We(this,p))):this.anchor=n);this.ob=n};v.Eg=u("na");
v.Ni=function(a){this.Hc=n;if(a==this.anchor){a=this.pd();var b=a.Eg();a=b&&this.i()&&a.contains(this.i(),b);(this.na==s||this.na!=this.i()&&!this.fc.contains(this.na))&&(!a&&(!this.vg||!this.vg.na))&&We(this,t)}};function pf(a,b){var c=Nd(a.kb);a.kf.x=b.clientX+c.x;a.kf.y=b.clientY+c.y}v.Hg=function(a){var b=qf(this,a.target);this.na=b;this.jd();b!=this.anchor&&(this.anchor=b,this.ob||(this.ob=Re(ua(this.Vg,this,b,n),this.jh)),rf(this),pf(this,a))};
function qf(a,b){try{for(;b&&!a.fc.contains(b);)b=b.parentNode;return b}catch(c){return s}}v.Gg=function(a){pf(this,a);this.se=p};v.Fg=function(a){this.na=a=qf(this,a.target);this.se=p;if(this.anchor!=a){this.anchor=a;var b=of(this,1);this.jd();this.ob||(this.ob=Re(ua(this.Vg,this,a,b),this.jh));rf(this)}};function of(a,b){if(0==b){var c=a.kf.f();return new sf(c)}return new tf(a.na)}function rf(a){if(a.anchor)for(var b,c=0;b=lf[c];c++)Ld(b.i(),a.anchor)&&(b.vg=a,a.eh=b)}
v.he=function(a){var b=qf(this,a.target),c=qf(this,a.relatedTarget);b!=c&&(b==this.na&&(this.na=s),nf(this),this.se=t,this.ua&&(!a.relatedTarget||!Ld(this.i(),a.relatedTarget))?this.we():this.anchor=n)};v.Jg=function(){var a=this.i();this.na!=a&&(this.jd(),this.na=a)};v.Ig=function(a){var b=this.i();if(this.na==b&&(!a.relatedTarget||!Ld(b,a.relatedTarget)))this.na=s,this.we()};function nf(a){a.ob&&(ea.clearTimeout(a.ob),a.ob=n)}
v.we=function(){if(2==(this.ob?this.ua?4:1:this.Hc?3:this.ua?2:0))this.Hc=Re(ua(this.Ni,this,this.anchor),this.vi)};v.jd=function(){this.Hc&&(ea.clearTimeout(this.Hc),this.Hc=n)};v.ga=function(){We(this,t);nf(this);this.detach();this.i()&&Jd(this.i());this.na=s;delete this.kb;jf.n.ga.call(this)};function sf(a,b){je.call(this,a,b)}I(sf,je);
sf.prototype.Wa=function(a,b,c){b=Rd(a);b=Ud(b);c=c?new sd(c.top+10,c.right,c.bottom,c.left+10):new sd(10,0,0,10);ge(this.jf,a,4,c,b,9)&496&&ge(this.jf,a,4,c,b,5)};function tf(a){ie.call(this,a,3)}I(tf,ie);tf.prototype.Wa=function(a,b,c){var d=new Dc(10,0);fe(this.element,this.yg,a,b,d,c,9)&496&&fe(this.element,2,a,1,d,c,5)};K||tb||vb&&Eb("525");
function uf(a,b){oc.call(this);this.k=a;var c=pa(this.k)&&1==this.k.nodeType?this.k:this.k?this.k.body:s;this.Hi=!!c&&$d(c);this.Rg=L(this.k,ub?"DOMMouseScroll":"mousewheel",this,b)}I(uf,oc);
uf.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.lb;if("mousewheel"==a.type){c=1;if(K||vb&&(yb||Eb("532.0")))c=40;d=vf(-a.wheelDelta,c);fa(a.wheelDeltaX)?(b=vf(-a.wheelDeltaX,c),c=vf(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),fa(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;E(this.Tg)&&(b=Math.min(Math.max(b,-this.Tg),this.Tg));E(this.Ug)&&(c=Math.min(Math.max(c,-this.Ug),this.Ug));this.Hi&&(b=-b);b=new wf(d,a,b,c);this.dispatchEvent(b)};
function vf(a,b){return vb&&(xb||zb)&&0!=a%b?a:a/b}uf.prototype.ga=function(){uf.n.ga.call(this);kc(this.Rg);this.Rg=s};function wf(a,b,c,d){Rb.call(this,b);this.type="mousewheel";this.detail=a;this.Dl=c;this.Fc=d}I(wf,Rb);
function xf(a){(a==s||!(a instanceof Element))&&k(Error("Could not add interactor to the given element."));M.call(this);this.c="interactor";this.xa=a;this.Ne=this.fg=this.eg=this.gg=this.dg=this.hg=s;this.Me=p;this.Ib=this.Bb=this.gb=t;this.Ld=[0,0];this.He=new Fc(0,0);this.Uc=new Fc(0,0);this.Og=0;this.ng=this.Hd=s;this.v={MOUSEWHEEL_ENABLED:p,MOUSECLICKS_ENABLED:p,LEFTMOUSECLICK_ENABLED:p,MIDDLEMOUSECLICK_ENABLED:p,RIGHTMOUSECLICK_ENABLED:p,KEYBOARD_ENABLED:p,HOVERING_ENABLED:p,CONTEXTMENU_ENABLED:t,
TOUCH_ENABLED:p,TOUCH_BOUNCING_ENABLED:t};this.Bl=1}I(xf,M);xf.prototype.__defineGetter__("config",u("v"));xf.prototype.__defineGetter__("leftButtonDown",u("gb"));xf.prototype.__defineGetter__("middleButtonDown",u("Bb"));xf.prototype.__defineGetter__("rightButtonDown",u("Ib"));
xf.prototype.Ma=function(){this.v.MOUSEWHEEL_ENABLED?(this.Ne=new uf(this.xa),this.hg=L(this.Ne,"mousewheel",this.wd.bind(this))):(kc(this.hg),this.Ne=s);this.v.MOUSECLICKS_ENABLED?(this.dg=L(this.xa,"mousedown",this.Yi.bind(this)),this.gg=L(this.xa,"mouseup",this.cj.bind(this))):(kc(this.dg),kc(this.gg));this.xa.oncontextmenu=this.v.CONTEXTMENU_ENABLED?s:function(){return t};window.onkeydown=this.v.KEYBOARD_ENABLED?this.Yg.bind(this):s;this.v.TOUCH_ENABLED?(this.v.TOUCH_BOUNCING_ENABLED||document.body.addEventListener("touchmove",
function(a){a.preventDefault()},t),this.Rh=L(this.xa,"touchstart",this.qj.bind(this)),this.Qh=L(this.xa,"touchmove",this.oj.bind(this)),this.Ph=L(this.xa,"touchend",this.kj.bind(this))):(kc(this.Rh),kc(this.Qh),kc(this.Ph));kc(this.eg);kc(this.fg);this.eg=L(this.xa,"mousemove",this.$i.bind(this));this.fg=L(this.xa,"mouseout",this.aj.bind(this))};
xf.prototype.Yi=function(a){this.v.LEFTMOUSECLICK_ENABLED&&0==a.button?this.gb=p:this.v.MIDDLEMOUSECLICK_ENABLED&&1==a.button?this.Bb=p:this.v.RIGHTMOUSECLICK_ENABLED&&2==a.button&&(this.Ib=p);eval("this.onMouseDown("+this.gb+","+this.Bb+","+this.Ib+")");yf(this);a.preventDefault()};xf.prototype.Xi=aa();xf.prototype.cj=function(a){0==a.button?this.gb=t:1==a.button?this.Bb=t:2==a.button&&(this.Ib=t);eval("this.onMouseUp("+this.gb+","+this.Bb+","+this.Ib+")");yf(this);a.preventDefault()};
xf.prototype.__defineGetter__("mousePosition",u("Ld"));v=xf.prototype;v.bj=aa();v.aj=function(a){this.Me=t;this.v.KEYBOARD_ENABLED&&(window.onkeydown=s);this.Ib=this.Bb=this.gb=t;yf(this);this.He=new Fc(0,0);a.preventDefault()};v.Zi=aa();v.qj=function(a){a.preventDefault();a.Ma(a.lb.targetTouches[0],a.currentTarget);eval("this.onTouchStart("+a.clientX+","+a.clientY+")");this.Uc=new Fc(a.clientX,a.clientY);this.ng=setTimeout(this.mj.bind(this,a),500)};v.pj=aa();
v.mj=function(a){eval("this.onTouchHover("+a.clientX+","+a.clientY+")");a=new dd;a.Za=p;a.Oa=this instanceof zf;this.dispatchEvent(a);this.Rd=p};v.lj=aa();function Af(a){clearTimeout(a.ng);if(a.Rd){var b=new dd;b.Za=t;b.Oa=a instanceof zf;a.dispatchEvent(b)}a.Rd=t}v.kj=function(a){a.preventDefault();eval("this.onTouchEnd()");Af(this)};v.jj=aa();
v.oj=function(a){a.preventDefault();this.Rd||Af(this);this.touchmoveEvent=a=a.lb;eval("this.onTouchMove(this['touchmoveEvent'])");var b=a.targetTouches;if(1==b.length){a=b[0];var c=[a.clientX,a.clientY];a=new Fc(c[0],c[1]);var b=c[0]>3*this.xa.clientWidth/4,d=c[0]<this.xa.clientWidth/4,e=c[1]<this.xa.clientHeight/4,c=c[1]>3*this.xa.clientHeight/4,c=!b&&!d&&!e&&!c,e=this.Uc.pa(a);this.Uc=a.f();if(this.Rd)a=new bd,5<e.x?e.x=1:-5>e.x&&(e.x=-1),5<e.y?e.y=1:-5>e.y&&(e.y=-1),a.L=e,this.dispatchEvent(a);
else if(this instanceof Bf&&(b||d))a=new ed,a.I=0>e.y,this.dispatchEvent(a);else if(this instanceof zf||c)e.scale(0.1*this.Kl),a=new cd,a.L=e,this.dispatchEvent(a)}else 2==b.length&&(a=b[0],b=b[1],a=[a.clientX,a.clientY],b=[b.clientX,b.clientY],a=new Fc(a[0],a[1]),e=Gc(a,new Fc(b[0],b[1])),b=e-this.Og,this.Og=e,this.Uc.pa(a),this.Uc=a.f(),10<Math.abs(b)&&(a=new dd,a.Za=0<b,a.Oa=this instanceof zf,this.dispatchEvent(a)))};v.nj=aa();
v.$i=function(a){this.mousemoveEvent=a;eval("this.onMouseMove(this['mousemoveEvent'])");this.Me=p;this.v.KEYBOARD_ENABLED&&window.onkeydown==s&&(window.onkeydown=this.Yg.bind(this));a.preventDefault();var b=a.shiftKey;this.Ld=[a.offsetX,a.offsetY];var c=new Fc(this.Ld[0],this.Ld[1]);a=this.He.pa(c);this.He=c.f();this.v.HOVERING_ENABLED&&((0<Math.abs(a.x)||0<Math.abs(a.y)||this.Bb||this.gb||this.Ib)&&yf(this),this.Hd=setTimeout(function(){yf(this);var a=new fd;a.Td=c.x;a.Ud=c.y;this.dispatchEvent(a);
this.Hd=s}.bind(this),300));2>Math.abs(a.x)&&(a.x=0);2>Math.abs(a.y)&&(a.y=0);0!=a.lc()&&(this.gb&&!b?(b=new cd,a.scale(1),b.L=a,this.dispatchEvent(b)):this.Bb||this.gb&&b?(b=new bd,5<a.x?a.x=5:-5>a.x&&(a.x=-5),5<a.y?a.y=5:-5>a.y&&(a.y=-5),b.L=a,this.dispatchEvent(b)):this.Ib&&(b=new dd,b.Za=0<a.y,b.Oa=t,this.dispatchEvent(b)))};function yf(a){a.Hd&&clearTimeout(a.Hd);a.dispatchEvent(new gd)}v.dj=aa();
v.wd=function(a){this.mouseWheelEvent=a;eval("this.onMouseWheel(this['mouseWheelEvent'])");yf(this);a.preventDefault()};v.Vi=aa();
v.Yg=function(a){if(this.Me){this.keyEvent=a;eval("this.onKey(this['keyEvent'])");yf(this);var b=a.altKey,c=a.ctrlKey,d=a.metaKey,e=a.shiftKey,f=a.keyCode;82==f&&!b&&!c&&!d&&!e?(a.preventDefault(),a=new hd,this.dispatchEvent(a)):37<=f&&40>=f&&(a.preventDefault(),e?a=new bd:b?a=new dd:(a=new cd,this instanceof Bf&&(a=new ed)),a&&(c=new Fc(0,0),37==f?(c.x=5,a.I=t,b&&(a.I=p,a.Za=p,a.Oa=t)):39==f?(c.x=-5,a.I=p,b&&(a.Za=t,a.Oa=t)):38==f?(c.y=5,a.I=p,b&&(a.Za=p,a.Oa=p)):40==f&&(c.y=-5,a.I=t,b&&(a.Za=t,
a.Oa=p)),a.L=c,this.dispatchEvent(a)))}};G("X.interactor",xf);G("X.interactor.prototype.init",xf.prototype.Ma);G("X.interactor.prototype.onMouseDown",xf.prototype.Xi);G("X.interactor.prototype.onMouseUp",xf.prototype.bj);G("X.interactor.prototype.onMouseMove",xf.prototype.Zi);G("X.interactor.prototype.onMouseWheel",xf.prototype.dj);G("X.interactor.prototype.onKey",xf.prototype.Vi);G("X.interactor.prototype.onTouchStart",xf.prototype.pj);G("X.interactor.prototype.onTouchMove",xf.prototype.nj);
G("X.interactor.prototype.onTouchEnd",xf.prototype.jj);G("X.interactor.prototype.onTouchHover",xf.prototype.lj);
function Cf(a,b,c,d){a==s&&k(Error("No valid parent element."));(!E(b)||!E(c))&&k(Error("Invalid coordinates."));(d==s||!(d instanceof xf))&&k(Error("Invalid interactor."));jf.call(this);this.c="caption";this.ra=a;this.Td=b;this.Ud=c;this.Sb=d;this.ib=s;this.Ob=[];a=".x-tooltip {\n  background: #C0C0FF;\n  color: #000000;\n";a+="  border: 1px solid infotext;\n";a+="  padding: 1px;\n";a+="  font-family: sans-serif;\n";a+="}";this.Ob=[a];ic(d,"k",this.le.bind(this));this.pf()}I(Cf,jf);
Cf.prototype.pf=function(){if("static"==this.ra.style.position||""==this.ra.style.position)this.ra.style.position="relative";var a=document.getElementsByTagName("head")[0],b=Fd("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.Ob[0]));a.appendChild(b);b.appendChild(c);this.ib=b;this.qe=new je(this.Td,this.Ud)||n;this.ua&&this.Wa();We(this,p);kf(this,this.ra);this.i().classList.add("x-tooltip")};
Cf.prototype.le=function(){We(this,t);this.ib&&Jd(this.ib);this.i()&&Jd(this.i());this.ib=s};function Df(){V.call(this);this.c="parserLUT"}I(Df,V);
Df.prototype.parse=function(a,b,c){J.wa(this.c+".parse");this.K=c;c=W(this,"uchar",c.byteLength);var d=c.length,e=0,f;for(f=0;f<d;f++)if(10==c[f]){var g=kd(c,e,f),e=f+1,g=g.replace(/^\s+|\s+$/g,"");"#"!=g[0]&&(g=g.split(" "),g=g.filter(function(a){return""!=a}),6==g.length&&(g[2]=parseInt(g[2],10)/255,g[3]=parseInt(g[3],10)/255,g[4]=parseInt(g[4],10)/255,g[5]=parseInt(g[5],10)/255,a.add(parseInt(g[0],10),g[1],g[2],g[3],g[4],g[5],10)))}J.qa(this.c+".parse");c=new Xc;c.T=b;c.o=a;this.dispatchEvent(c)};
G("X.parserLUT",Df);G("X.parserLUT.prototype.parse",Df.prototype.parse);function Ef(){U.call(this);this.c="mesh";ya(this,new sc)}I(Ef,U);G("X.mesh",Ef);new Uint8Array(256);var Ff;for(Ff=0;256>Ff;++Ff)for(var Gf=Ff,Hf=7,Gf=Gf>>>1;Gf;Gf>>>=1)--Hf;var If=[],Jf;for(Jf=0;288>Jf;Jf++)switch(p){case 143>=Jf:If.push([Jf+48,8]);break;case 255>=Jf:If.push([Jf-144+400,9]);break;case 279>=Jf:If.push([Jf-256+0,7]);break;case 287>=Jf:If.push([Jf-280+192,8]);break;default:k("invalid literal: "+Jf)}
var Kf=function(){function a(a){switch(p){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:k("invalid length: "+a)}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<24|d[1]<<
16|d[0];return b}();new Uint32Array(Kf);var Lf={ff:function(a,b,c){return Lf.update(a,0,b,c)},update:function(a,b,c,d){var e=Lf.Eh,f="number"===typeof c?c:c=0;d="number"===typeof d?d:a.length;b^=4294967295;for(f=d&7;f--;++c)b=b>>>8^e[(b^a[c])&255];for(f=d>>3;f--;c+=8)b=b>>>8^e[(b^a[c])&255],b=b>>>8^e[(b^a[c+1])&255],b=b>>>8^e[(b^a[c+2])&255],b=b>>>8^e[(b^a[c+3])&255],b=b>>>8^e[(b^a[c+4])&255],b=b>>>8^e[(b^a[c+5])&255],b=b>>>8^e[(b^a[c+6])&255],b=b>>>8^e[(b^a[c+7])&255];return(b^4294967295)>>>0}};
Lf.Eh=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,
3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,
366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,
3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,
1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,
1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Mf(){}
function Nf(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,f,g,h,l,m,q,r,x;for(r=0;r<b;++r)a[r]>c&&(c=a[r]),a[r]<d&&(d=a[r]);e=1<<c;f=new Uint32Array(e);g=1;h=0;for(l=2;g<=c;){for(r=0;r<b;++r)if(a[r]===g){m=0;q=h;for(x=0;x<g;++x)m=m<<1|q&1,q>>=1;for(x=m;x<e;x+=l)f[x]=g<<16|r;++h}++g;h<<=1;l<<=1}return[f,c,d]}
function Of(a,b){this.cf=[];this.df=32768;this.Ta=this.hd=this.ia=this.Nf=0;this.input=new Uint8Array(a);this.tg=t;this.ef=Pf;this.nb=t;if(b||!(b={}))b.index&&(this.ia=b.index),b.bufferSize&&(this.df=b.bufferSize),b.bufferType&&(this.ef=b.bufferType),b.resize&&(this.nb=b.resize);switch(this.ef){case Qf:this.R=32768;this.Da=new Uint8Array(32768+this.df+258);break;case Pf:this.R=0;this.Da=new Uint8Array(this.df);this.gc=this.ki;this.wg=this.$h;this.mf=this.di;break;default:k(Error("invalid inflate mode"))}}
var Qf=0,Pf=1;
Of.prototype.Ec=function(){for(;!this.tg;){var a=Rf(this,3);a&1&&(this.tg=p);a>>>=1;switch(a){case 0:var a=this.input,b=this.ia,c=this.Da,d=this.R,e=n,f=n,g=n,h=c.length,e=n;this.Ta=this.hd=0;e=a[b++];e===n&&k(Error("invalid uncompressed block header: LEN (first byte)"));f=e;e=a[b++];e===n&&k(Error("invalid uncompressed block header: LEN (second byte)"));f|=e<<8;e=a[b++];e===n&&k(Error("invalid uncompressed block header: NLEN (first byte)"));g=e;e=a[b++];e===n&&k(Error("invalid uncompressed block header: NLEN (second byte)"));g|=
e<<8;f===~g&&k(Error("invalid uncompressed block header: length verify"));b+f>a.length&&k(Error("input buffer is broken"));switch(this.ef){case Qf:for(;d+f>c.length;)e=h-d,f-=e,c.set(a.subarray(b,b+e),d),d+=e,b+=e,this.R=d,c=this.gc(),d=this.R;break;case Pf:for(;d+f>c.length;)c=this.gc({Dg:2});break;default:k(Error("invalid inflate mode"))}c.set(a.subarray(b,b+f),d);d+=f;this.ia=b+=f;this.R=d;this.Da=c;break;case 1:this.mf(Sf,Tf);break;case 2:Uf(this);break;default:k(Error("unknown BTYPE: "+a))}}return this.wg()};
var Vf=new Uint16Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wf=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258]),Xf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0]),Yf=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577]),Zf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$f=new Uint8Array(288),
ag,bg;ag=0;for(bg=$f.length;ag<bg;++ag)$f[ag]=143>=ag?8:255>=ag?9:279>=ag?7:8;var Sf=Nf($f),cg=new Uint8Array(30),dg,eg;dg=0;for(eg=cg.length;dg<eg;++dg)cg[dg]=5;var Tf=Nf(cg);function Rf(a,b){for(var c=a.hd,d=a.Ta,e=a.input,f=a.ia,g;d<b;)g=e[f++],g===n&&k(Error("input buffer is broken")),c|=g<<d,d+=8;g=c&(1<<b)-1;a.hd=c>>>b;a.Ta=d-b;a.ia=f;return g}
function fg(a,b){for(var c=a.hd,d=a.Ta,e=a.input,f=a.ia,g=b[0],h=b[1],l;d<h;)l=e[f++],l===n&&k(Error("input buffer is broken")),c|=l<<d,d+=8;e=g[c&(1<<h)-1];g=e>>>16;a.hd=c>>g;a.Ta=d-g;a.ia=f;return e&65535}
function Uf(a){function b(a,b,c){var d,e,f;for(f=0;f<a;)switch(d=fg(this,b),d){case 16:for(d=3+Rf(this,2);d--;)c[f++]=e;break;case 17:for(d=3+Rf(this,3);d--;)c[f++]=0;e=0;break;case 18:for(d=11+Rf(this,7);d--;)c[f++]=0;e=0;break;default:e=c[f++]=d}return c}var c=Rf(a,5)+257,d=Rf(a,5)+1,e=Rf(a,4)+4,f=new Uint8Array(Vf.length),g;for(g=0;g<e;++g)f[Vf[g]]=Rf(a,3);e=Nf(f);f=new Uint8Array(c);g=new Uint8Array(d);a.mf(Nf(b.call(a,c,e,f)),Nf(b.call(a,d,e,g)))}v=Of.prototype;
v.mf=function(a,b){var c=this.Da,d=this.R;this.zg=a;for(var e=c.length-258,f,g,h;256!==(f=fg(this,a));)if(256>f)d>=e&&(this.R=d,c=this.gc(),d=this.R),c[d++]=f;else{f-=257;h=Wf[f];0<Xf[f]&&(h+=Rf(this,Xf[f]));f=fg(this,b);g=Yf[f];0<Zf[f]&&(g+=Rf(this,Zf[f]));d>=e&&(this.R=d,c=this.gc(),d=this.R);for(;h--;)c[d]=c[d++-g]}for(;8<=this.Ta;)this.Ta-=8,this.ia--;this.R=d};
v.di=function(a,b){var c=this.Da,d=this.R;this.zg=a;for(var e=c.length,f,g,h;256!==(f=fg(this,a));)if(256>f)d>=e&&(c=this.gc(),e=c.length),c[d++]=f;else{f-=257;h=Wf[f];0<Xf[f]&&(h+=Rf(this,Xf[f]));f=fg(this,b);g=Yf[f];0<Zf[f]&&(g+=Rf(this,Zf[f]));d+h>e&&(c=this.gc(),e=c.length);for(;h--;)c[d]=c[d++-g]}for(;8<=this.Ta;)this.Ta-=8,this.ia--;this.R=d};
v.gc=function(){var a=new Uint8Array(this.R-32768),b=this.R-32768,c=this.Da;a.set(c.subarray(32768,a.length));this.cf.push(a);this.Nf+=a.length;c.set(c.subarray(b,b+32768));this.R=32768;return c};v.ki=function(a){var b=this.input.length/this.ia+1|0,c=this.input,d=this.Da;a&&("number"===typeof a.Dg&&(b=a.Dg),"number"===typeof a.Th&&(b+=a.Th));2>b?(a=(c.length-this.ia)/this.zg[2],a=258*(a/2)|0,a=a<d.length?d.length+a:d.length<<1):a=d.length*b;a=new Uint8Array(a);a.set(d);return this.Da=a};
v.wg=function(){var a=0,b=this.Da,c=this.cf,d,e=new Uint8Array(this.Nf+(this.R-32768)),f,g,h,l;if(0===c.length)return this.Da.subarray(32768,this.R);f=0;for(g=c.length;f<g;++f){d=c[f];h=0;for(l=d.length;h<l;++h)e[a++]=d[h]}f=32768;for(g=this.R;f<g;++f)e[a++]=b[f];this.cf=[];return this.buffer=e};v.$h=function(){var a,b=this.R;this.nb?(a=new Uint8Array(b),a.set(this.Da.subarray(0,b))):a=this.Da.subarray(0,b);return this.buffer=a};function gg(a){this.input=a;this.ia=0;this.member=[]}
gg.prototype.Ec=function(){for(var a=this.input.length;this.ia<a;){var b=new Mf,c=n,d=n,e=n,f=c=e=n,g=n,c=c=n,h=this.input,d=this.ia;b.id1=h[d++];b.id2=h[d++];(31!==b.id1||139!==b.id2)&&k(Error("invalid file signature:",b.id1,b.id2));b.cm=h[d++];switch(b.cm){case 8:break;default:k(Error("unknown compression method: "+b.cm))}b.flg=h[d++];c=h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24;b.mtime=new Date(1E3*c);b.xfl=h[d++];b.os=h[d++];0<(b.flg&4)&&(b.xlen=h[d++]|h[d++]<<8,d+=b.xlen);if(0<(b.flg&8)){g=[];for(f=
0;0<(c=h[d++]);)g[f++]=String.fromCharCode(c);b.name=g.join("")}if(0<(b.flg&16)){g=[];for(f=0;0<(c=h[d++]);)g[f++]=String.fromCharCode(c);b.comment=g.join("")}0<(b.flg&2)&&(b.crc16=Lf.ff(h,0,d)&65535,b.crc16!==(h[d++]|h[d++]<<8)&&k(Error("invalid header crc16")));c=h[h.length-4]|h[h.length-3]<<8|h[h.length-2]<<16|h[h.length-1]<<24;h.length-d-4-4<512*c&&(e=c);d=new Of(h,{index:d,bufferSize:e});b.data=e=d.Ec();d=d.ia;b.crc32=c=(h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24)>>>0;Lf.ff(e)!==c&&k(Error("invalid CRC-32 checksum: 0x"+
Lf.ff(e).toString(16)+" / 0x"+c.toString(16)));b.isize=c=(h[d++]|h[d++]<<8|h[d++]<<16|h[d++]<<24)>>>0;(e.length&4294967295)!==c&&k(Error("invalid input size: "+(e.length&4294967295)+" / "+c));this.member.push(b);this.ia=d}a=this.member;b=e=d=0;for(h=a.length;b<h;++b)e+=a[b].data.length;e=new Uint8Array(e);for(b=0;b<h;++b)e.set(a[b].data,d),d+=a[b].data.length;return e};function hg(){V.call(this);this.c="parserPGF"}I(hg,V);
hg.prototype.parse=function(a,b,c,d){J.wa(this.c+".parse");window.console.log("PGF flag: ",d);d&&(c=(new gg(new Uint8Array(c))).Ec(),c=c.buffer);this.nc(c,b);J.qa(this.c+".parse");d=new Xc;d.T=b;d.o=a;this.dispatchEvent(d)};
hg.prototype.nc=function(a,b){this.K=this.K=a;for(var c=W(this,"uchar",a.byteLength),d=c.length,e=0,f=0;f<d;f++){var g=0,h=0,l=0,m="",q="";if(10==c[f]){_split=kd(c,e+1,f-1).split(";");for(e=0;e<_split.length;e++){var r=_split[e].trim().split("=");"ncoords"==r[0]?g=parseInt(r[1]):"nelems"==r[0]?h=parseInt(r[1]):"nplex"==r[0]?l=parseInt(r[1]):"normals"==r[0]?m="True"==r[1]:"color"==r[0]&&(q=r[1].replace(/'/g,"").trim())}this.j=e=f+1;if(0<g)break}}window.console.log("_ncoords = ",g);window.console.log("_nelemss = ",
h);window.console.log("_nplex = ",l);window.console.log("_normals = ",m);window.console.log("_color = ",q);1==l?b.aa="POINTS":2==l?b.aa="LINES":3==l&&(b.aa=Vc);b.g=new N(3*h*l);b.h=new N(3*h*l);c=b.g;d=b.h;g=W(this,"float",3*g);this.j+=1;r=W(this,"uint",h*l);this.j+=1;for(f=0;f<h*l;f++)e=3*r[f],c.add(g[e],g[e+1],g[e+2]);if(m){g=W(this,"float",3*h*l);this.j+=1;for(f=0;f<3*h*l;f+=3)d.add(g[f],g[f+1],g[f+2])}else if(!m&&3==l)for(f=0;f<h*l;f+=3)m=new R(c.get(f)[0],c.get(f)[1],c.get(f)[2]),e=new R(c.get(f+
1)[0],c.get(f+1)[1],c.get(f+1)[2]),g=new R(c.get(f+2)[0],c.get(f+2)[1],c.get(f+2)[2]),m=Cc(e.pa(m),g.pa(m)),m.normalize(),d.add(m.x,m.y,m.b),d.add(m.x,m.y,m.b),d.add(m.x,m.y,m.b);if("vertex"==q){q=W(this,"float",3*h*l);this.j+=1;b.J=new N(3*h*l);m=b.J;for(f=0;f<3*h*l;f+=3)m.add(q[f],q[f+1],q[f+2])}};G("X.parserPGF",hg);G("X.parserPGF.prototype.parse",hg.prototype.parse);
function ig(a,b,c){this.Ia=this.Ha=this.Ga=0;3==arguments.length?(this.Ga=Number(a),this.Ha=Number(b),this.Ia=Number(c)):a instanceof ig?(this.Ga=Number(a.x()),this.Ha=Number(a.y()),this.Ia=Number(a.b())):(this.Ga=Number(a[0]),this.Ha=Number(a[1]),this.Ia=Number(a[2]))}ig.prototype={f:function(){return new ig(this.Ga,this.Ha,this.Ia)},length:function(){return Math.sqrt(jg(this,this))},x:u("Ga"),y:u("Ha"),b:u("Ia")};
function kg(a,b){return new ig(a.Ha*b.b()-a.Ia*b.y(),a.Ia*b.x()-a.Ga*b.b(),a.Ga*b.y()-a.Ha*b.x())}function lg(a){var b=a.length();return new ig(a.Ga/b,a.Ha/b,a.Ia/b)}function jg(a,b){return a.Ga*b.x()+a.Ha*b.y()+a.Ia*b.b()}function mg(a,b){return new ig(a.Ga*b,a.Ha*b,a.Ia*b)}function ng(a,b){return new ig(a.Ga-b.x(),a.Ha-b.y(),a.Ia-b.b())}function og(a,b){return new ig(a.Ga+b.x(),a.Ha+b.y(),a.Ia+b.b())}function pg(a){return new ig(-a.Ga,-a.Ha,-a.Ia)}
function qg(a,b){this.va=new ig(a);this.ca=new ig(b)}qg.prototype={f:function(){return new qg(this.va.f(),this.ca.f())},hc:function(){this.ca=pg(this.ca)}};function rg(a,b){this.ca=a;this.zd=b}rg.prototype={f:function(){return new rg(this.ca.f(),this.zd)},hc:function(){this.ca=pg(this.ca);this.zd=-this.zd}};function sg(a,b){this.qb=a;this.ve=b;var c=a[0].va,d=a[2].va,d=lg(kg(ng(a[1].va,c),ng(d,c)));this.Fa=new rg(d,jg(d,c))}
sg.prototype={f:function(){var a=this.qb.map(function(a){return a.f()});return new sg(a,this.ve)},hc:function(){this.qb.reverse().map(function(a){a.hc()});this.Fa.hc()}};
function tg(a,b,c,d,e,f){for(var g=0,h=[],l=0;l<a.qb.length;l++){var m=jg(b.ca,a.qb[l].va)-b.zd,m=-1E-5>m?2:1E-5<m?1:0,g=g|m;h.push(m)}switch(g){case 0:(0<jg(b.ca,a.Fa.ca)?c:d).push(a);break;case 1:e.push(a);break;case 2:f.push(a);break;case 3:c=[];d=[];for(l=0;l<a.qb.length;l++){var q=(l+1)%a.qb.length,m=h[l],r=h[q],g=a.qb[l],q=a.qb[q];2!=m&&c.push(g);1!=m&&d.push(2!=m?g.f():g);3==(m|r)&&(m=(b.zd-jg(b.ca,g.va))/jg(b.ca,ng(q.va,g.va)),m=new qg(og(g.va,mg(ng(q.va,g.va),m)),og(g.ca,mg(ng(q.ca,g.ca),
m))),c.push(m),d.push(m.f()))}3<=c.length&&e.push(new sg(c,a.ve));3<=d.length&&f.push(new sg(d,a.ve))}}function ug(a){this.fa=this.ha=this.Fa=s;this.B=[];a&&vg(this,a)}ug.prototype={f:function(){var a=new ug;wg(a,this.Fa&&this.Fa.f());xg(a,this.ha&&this.ha.f());yg(a,this.fa&&this.fa.f());a.te(this.B.map(function(a){return a.f()}));return a},ba:function(){for(var a=0;a<this.B.length;a++)this.B[a].hc();this.Fa.hc();this.ha&&this.ha.ba();this.fa&&this.fa.ba();a=this.ha;this.ha=this.fa;this.fa=a},te:ba("B")};
function yg(a,b){a.fa=b}function xg(a,b){a.ha=b}function wg(a,b){a.Fa=b}function vg(a,b){if(b.length){a.Fa||(a.Fa=b[0].Fa.f());for(var c=[],d=[],e=0;e<b.length;e++)tg(b[e],a.Fa,a.B,a.B,c,d);c.length&&(a.ha||(a.ha=new ug),vg(a.ha,c));d.length&&(a.fa||(a.fa=new ug),vg(a.fa,d))}}function zg(a){var b=a.B.slice();a.ha&&(b=b.concat(zg(a.ha)));a.fa&&(b=b.concat(zg(a.fa)));return b}function Ag(a,b){a.B=Bg(b,a.B);a.ha&&Ag(a.ha,b);a.fa&&Ag(a.fa,b)}
function Bg(a,b){if(!a.Fa)return b.slice();for(var c=[],d=[],e=0;e<b.length;e++)tg(b[e],a.Fa,c,d,c,d);a.ha&&(c=Bg(a.ha,c));d=a.fa?Bg(a.fa,d):[];return c.concat(d)}function Cg(){this.B=[]}function Dg(a){var b=new Cg;b.te(a);return b}
Cg.prototype={f:function(){var a=new Cg;a.te(this.B.map(function(a){return a.f()}));return a},Of:function(a){var b=new ug(this.f().B);a=new ug(a.f().B);Ag(b,a);Ag(a,b);a.ba();Ag(a,b);a.ba();vg(b,zg(a));return Dg(zg(b))},pa:function(a){var b=new ug(this.f().B);a=new ug(a.f().B);b.ba();Ag(b,a);Ag(a,b);a.ba();Ag(a,b);a.ba();vg(b,zg(a));b.ba();return Dg(zg(b))},qf:function(a){var b=new ug(this.f().B);a=new ug(a.f().B);b.ba();Ag(a,b);a.ba();Ag(b,a);Ag(a,b);vg(b,zg(a));b.ba();return Dg(zg(b))},inverse:function(){var a=
this.f();a.B.map(function(a){a.hc()});return a},te:ba("B")};function Eg(){}function Fg(a){for(var b=a.g.count,c=[],d=0,d=0;d<b;d+=3){var e=a.g.get(d),f=a.g.get(d+1),g=a.g.get(d+2),h=a.h.get(d),l=a.h.get(d+1),m=a.h.get(d+2),q=a.rb;a.J&&0<a.J.length&&(q=a.J.get(d));var r=[];r.push(new qg(e,h));r.push(new qg(f,l));r.push(new qg(g,m));c.push(new sg(r,q))}return Dg(c)}
function Gg(a,b){(b==s||!(b instanceof Cg))&&k(Error("Invalid CSG object."));var c=new Wc,d=[];db(b.B,function(a){var b=[],g=a.ve,b=db(a.qb,function(a){a.color=g;return c.add(a)});for(a=a=2;a<b.length;a++)d.push([b[0],b[a-1],b[a]])}.bind(a));a.Kh=db(c.unique(),function(a){return[a.va.x(),a.va.y(),a.va.b()]});a.Jh=db(c.unique(),function(a){return[a.ca.x(),a.ca.y(),a.ca.b()]});a.Ih=db(c.unique(),function(a){return!a.color?s:[a.color[0],a.color[1],a.color[2]]});a.g=new N(9*d.length);a.h=new N(9*d.length);
a.J=new N(9*d.length);db(d,function(a){var b=a[0],c=a[1];a=a[2];var d=this.Kh,l=this.Jh,m=this.Ih;this.g.add(d[b][0],d[b][1],d[b][2]);this.g.add(d[c][0],d[c][1],d[c][2]);this.g.add(d[a][0],d[a][1],d[a][2]);this.h.add(l[b][0],l[b][1],l[b][2]);this.h.add(l[c][0],l[c][1],l[c][2]);this.h.add(l[a][0],l[a][1],l[a][2]);m[b]&&this.J.add(m[b][0],m[b][1],m[b][2]);m[c]&&this.J.add(m[c][0],m[c][1],m[c][2]);m[a]&&this.J.add(m[a][0],m[a][1],m[a][2])}.bind(a));0==a.J.j&&(a.J=s);a.aa=Vc}
Eg.prototype.Of=function(a){(a==s||!(a instanceof Cg)&&!(a instanceof U))&&k(Error("Invalid object."));var b=a;a instanceof U&&(b=Fg(b));a=new U;ya(a,new Eg);Gg(a,Fg(this).Of(b));return a};Eg.prototype.pa=function(a){(a==s||!(a instanceof Cg)&&!(a instanceof U))&&k(Error("Invalid object."));var b=a;a instanceof U&&(b=Fg(b));a=new U;ya(a,new Eg);Gg(a,Fg(this).pa(b));return a};
Eg.prototype.qf=function(a){(a==s||!(a instanceof Cg)&&!(a instanceof U))&&k(Error("Invalid object."));var b=a;a instanceof U&&(b=Fg(b));a=new U;ya(a,new Eg);Gg(a,Fg(this).qf(b));return a};Eg.prototype.inverse=function(){var a=new U;ya(a,new Eg);Gg(a,Fg(this).inverse());return a};G("X.constructable",Eg);G("X.constructable.prototype.intersect",Eg.prototype.qf);G("X.constructable.prototype.inverse",Eg.prototype.inverse);G("X.constructable.prototype.subtract",Eg.prototype.pa);
G("X.constructable.prototype.union",Eg.prototype.Of);function Hg(a){function b(a,b){a*=2*Math.PI;b*=Math.PI;var e=new ig(Math.cos(a)*Math.sin(b),Math.cos(b),Math.sin(a)*Math.sin(b));g.push(new qg(og(c,mg(e,d)),e))}this.B=[];a=a||{};var c=new ig(a.gf||[0,0,0]),d=a.cb||1,e=a.Gf||16;a=a.ak||8;for(var f=[],g=[],h=0;h<e;h++)for(var l=0;l<a;l++)g=[],b(h/e,l/a),0<l&&b((h+1)/e,l/a),l<a-1&&b((h+1)/e,(l+1)/a),b(h/e,(l+1)/a),f.push(new sg(g));return Dg(f)}I(Hg,Cg);
function Kg(){U.call(this);this.c="sphere";this.m=[0,0,0];this.Zb=5;this.bc=32;this.Oh=16;ya(this,new Eg)}I(Kg,U);Kg.prototype.__defineGetter__("center",u("m"));Kg.prototype.__defineSetter__("center",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid center"));this.m=a});Kg.prototype.__defineGetter__("radius",u("Zb"));Kg.prototype.__defineSetter__("radius",function(a){E(a)||k(Error("Invalid radius."));this.Zb=a});
Kg.prototype.s=function(){Gg(this,new Hg({gf:this.m,cb:this.Zb,Gf:this.bc,ak:this.Oh}));Kg.n.s.call(this)};G("X.sphere",Kg);G("X.sphere.prototype.modified",Kg.prototype.s);function Lg(a,b,c){a==s&&k(Error("Invalid GL Buffer."));b==s&&k(Error("Invalid number of items."));c==s&&k(Error("Invalid item size."));M.call(this);this.c="buffer";this.la=a;this.xb=b;this.yb=c}I(Lg,M);
function Mg(a){U.call(this);this.c="slice";this.m=[0,0,0];this.xc=[0,0,1];this.I=[0,1,0];this.G=this.O=10;this.cc=[0,1,0,0,1,1,1,1,1,0,0,0];this.r=this.jb=s;this.Ya=p;this.tc=[1,1,1];a!=s&&this.ec(a)}I(Mg,U);Mg.prototype.ec=function(a){this.m=a.m.slice();this.xc=a.xc.slice();this.I=a.I.slice();this.O=a.O;this.G=a.G;this.jb=a.jb;this.r=a.r;this.Ya=a.Ya;this.tc=a.tc;this.Mh=a.Mh;Mg.n.ec.call(this,a)};
Mg.prototype.Lb=function(){var a=new R(this.xc[0],this.xc[1],this.xc[2]),b=new R(this.I[0],this.I[1],this.I[2]),c=Cc(b,a),d=new R(this.m[0],this.m[1],this.m[2]),e=new R(1,1,1);1==a.x?(e=new R(this.m[0],this.G/2,this.O/2),this.cc=[0,0,1,0,0,1,0,1,1,1,1,0]):1==a.y?(e=new R(this.O/2,this.m[1],this.G/2),this.cc=[0,0,0,1,1,0,1,0,1,1,0,1]):1==a.b&&(e=new R(this.O/2,this.G/2,this.m[2]));var f=Bc(c.f().ba(),b.f().ba()),f=new R(f.x*e.x,f.y*e.y,f.b*e.b);f.add(d);var g=Bc(c.f().ba(),b),g=new R(g.x*e.x,g.y*e.y,
g.b*e.b);g.add(d);var h=Bc(c,b.f().ba()),h=new R(h.x*e.x,h.y*e.y,h.b*e.b);h.add(d);var l=h,b=Bc(c,b),b=new R(b.x*e.x,b.y*e.y,b.b*e.b);b.add(d);d=g;this.g=new N(18);this.h=new N(18);this.g.add(f.x,f.y,f.b);this.g.add(g.x,g.y,g.b);this.g.add(h.x,h.y,h.b);this.g.add(l.x,l.y,l.b);this.g.add(b.x,b.y,b.b);this.g.add(d.x,d.y,d.b);this.h.add(a.x,a.y,a.b);this.h.add(a.x,a.y,a.b);this.h.add(a.x,a.y,a.b);this.h.add(a.x,a.y,a.b);this.h.add(a.x,a.y,a.b);this.h.add(a.x,a.y,a.b);this.Ya&&(a=new U,a.g=new N(24),
a.h=new N(24),a.g.add(f.x,f.y,f.b),a.g.add(g.x,g.y,g.b),a.g.add(g.x,g.y,g.b),a.g.add(b.x,b.y,b.b),a.g.add(b.x,b.y,b.b),a.g.add(h.x,h.y,h.b),a.g.add(h.x,h.y,h.b),a.g.add(f.x,f.y,f.b),a.h.add(0,0,0),a.h.add(0,0,0),a.h.add(0,0,0),a.h.add(0,0,0),a.h.add(0,0,0),a.h.add(0,0,0),a.h.add(0,0,0),a.h.add(0,0,0),a.rb=[this.tc[0],this.tc[1],this.tc[2]],a.aa="LINES",a.zc=2,this.d.push(a))};G("X.slice",Mg);
function O(a){U.call(this);this.c="volume";this.m=[0,0,0];this.ea=[10,10,10];this.H=[1,1,1];this.tb=[];this.Tc=this.wb=this.Sc=this.vb=this.Rc=this.ub=0;this.U=new U;this.V=new U;this.hb=new U;this.Sd=this.Sa=t;this.Jb=0;this.r=s;this.Ya=p;this.Y=Infinity;this.X=-Infinity;this.Re=p;ya(this,new sc);ya(this,new qc);a!=s&&this.ec(a)}I(O,U);
O.prototype.ec=function(a){window.console.log(a);this.m=a.m.slice();this.ea=a.ea.slice();this.H=a.H.slice();this.ub=a.ub;this.Rc=a.Rc;this.vb=a.vb;this.Sc=a.Sc;this.wb=a.wb;this.Tc=a.Tc;this.U=new U(a.U);this.V=new U(a.V);this.hb=new U(a.hb);this.Sa=a.Sa;this.Sd=a.Sd;this.Jb=a.Jb;this.r=a.r;this.Ya=a.Ya;O.n.ec.call(this,a)};
O.prototype.Lb=function(){this.d.length=0;this.U.d.length=0;this.V.d.length=0;this.hb.d.length=0;this.d.push(this.U);this.d.push(this.V);this.d.push(this.hb);for(var a=0,a=0;3>a;a++){for(var b=(this.ea[a]-1)/2,c=b,d=0,d=0;d<this.ea[a];d++){var e=-b*this.H[a]+d*this.H[a],f=[[this.m[0]+e,this.m[1],this.m[2]],[this.m[0],this.m[1]+e,this.m[2]],[this.m[0],this.m[1],this.m[2]+e]],e=this.d[a].d,g=0,h=0,l=[1,1,1],m=this.Ya;0==a?(g=this.ea[2]*this.H[2]-this.H[2],h=this.ea[1]*this.H[1]-this.H[1],l=[1,1,0]):
1==a?(g=this.ea[0]*this.H[0]-this.H[0],h=this.ea[2]*this.H[2]-this.H[2],l=[1,0,0]):2==a&&(g=this.ea[0]*this.H[0]-this.H[0],h=this.ea[1]*this.H[1]-this.H[1],l=[0,1,0]);this.jb!=s&&(m=t);var q=new Mg,r=q,f=f[a],x=[[1,0,0],[0,1,0],[0,0,1]][a],w=[[0,1,0],[0,0,-1],[0,1,0]][a];(f==s||!C(f)||3!=f.length)&&k(Error("Invalid center."));(x==s||!C(x)||3!=x.length)&&k(Error("Invalid front direction."));(w==s||!C(w)||3!=w.length)&&k(Error("Invalid up direction."));E(g)||k(Error("Invalid width."));E(h)||k(Error("Invalid height."));
var y=t;m!=s&&(y=m);m=[1,1,1];l!=s&&(m=l);r.m=f;r.xc=x;r.I=w;r.O=g;r.G=h;r.Ya=y;r.tc=m;r.Lb();q.jb=this;q.visible=d==Math.floor(c);e.push(q)}0==a?this.Rc=this.ub=c:1==a?this.Sc=this.vb=c:2==a&&(this.Tc=this.wb=c)}this.e=p};
O.prototype.s=function(a){a="undefined"!==typeof a?a:p;if(0<this.d.length)if(this.Sa!=this.Sd&&(this.Sa?(this.d[0].d[parseInt(this.ub,10)].visible=t,this.d[1].d[parseInt(this.vb,10)].visible=t,this.d[2].d[parseInt(this.wb,10)].visible=t):this.d[this.Jb].visible=t,this.e=p,this.Sd=this.Sa),this.Sa)Ng(this,this.Jb);else for(var b=0,b=0;3>b;b++){var c=this.d[b],d=0,e=0;0==b?(d=this.ub,e=this.Rc,this.Rc=this.ub):1==b?(d=this.vb,e=this.Sc,this.Sc=this.vb):2==b&&(d=this.wb,e=this.Tc,this.Tc=this.wb);c.d[parseInt(e,
10)].visible=t;c=c.d[parseInt(d,10)];c.visible=p;c.M=1}a&&O.n.s.call(this)};O.prototype.__defineGetter__("dimensions",u("ea"));O.prototype.__defineGetter__("volumeRendering",u("Sa"));O.prototype.__defineSetter__("volumeRendering",function(a){this.Sa=a;this.s(t)});O.prototype.__defineSetter__("visible",ba("Ra"));O.prototype.__defineGetter__("center",u("m"));O.prototype.__defineSetter__("center",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid center."));this.m=a});
O.prototype.__defineGetter__("image",u("tb"));O.prototype.__defineGetter__("labelmap",function(){this.r||(this.r=new Og(this));return this.r});O.prototype.__defineGetter__("indexX",u("ub"));O.prototype.__defineSetter__("indexX",function(a){E(a)&&(0<=a&&a<this.U.d.length)&&(this.ub=a,this.s(t))});O.prototype.__defineGetter__("indexY",u("vb"));O.prototype.__defineSetter__("indexY",function(a){E(a)&&(0<=a&&a<this.V.d.length)&&(this.vb=a,this.s(t))});O.prototype.__defineGetter__("indexZ",u("wb"));
O.prototype.__defineSetter__("indexZ",function(a){E(a)&&(0<=a&&a<this.hb.d.length)&&(this.wb=a,this.s(t))});O.prototype.__defineGetter__("windowLow",u("Y"));O.prototype.__defineSetter__("windowLow",ba("Y"));O.prototype.__defineGetter__("windowHigh",u("X"));O.prototype.__defineSetter__("windowHigh",ba("X"));O.prototype.__defineGetter__("borders",u("Ya"));O.prototype.__defineSetter__("borders",ba("Ya"));O.prototype.__defineGetter__("reslicing",u("Re"));O.prototype.__defineSetter__("reslicing",ba("Re"));
function Ng(a,b){if(a.Sa&&(a.e||b!=a.Jb)){var c=a.d[a.Jb];c.visible=t;var c=a.d[b],d=c.d.length,e;for(e=0;e<d;e++)c.d[e].Ra=p;a.Jb=b;a.e=t}}G("X.volume",O);G("X.volume.prototype.modified",O.prototype.s);function Og(a){O.call(this);this.c="labelmap";this.jb=a}I(Og,O);Og.prototype.s=function(){var a=new Xc;a.T=this;this.dispatchEvent(a);this.jb.s()};G("X.labelmap",Og);function Pg(){V.call(this);this.c="parserMGZ";this.Id=t}I(Pg,V);
Pg.prototype.parse=function(a,b,c,d){J.wa(this.c+".parse");d&&(c=(new gg(new Uint8Array(c))).Ec(),c=c.buffer);d=this.nc(c);b.ea=[d.tf,d.uf,d.vf];b.H=d.kh;c=d.min;var e=d.max;b.Pa=b.Y=c;b.Ka=b.X=e;-Infinity==b.S&&(b.S=c);Infinity==b.W&&(b.W=e);b.Lb();J.qa(this.c+".parse");b.tb=ld(this,b,d);d=new Xc;d.T=b;d.o=a;this.dispatchEvent(d)};
Pg.prototype.nc=function(a){this.K=a;a={version:0,Hh:0,Fh:0,qi:0,Gh:0,tf:0,uf:0,vf:0,Ri:0,type:0,hi:0,gh:0,Ik:s,Ch:s,kh:s,data:s,min:Infinity,max:-Infinity};a.version=W(this,"uint");a.tf=W(this,"uint");a.uf=W(this,"uint");a.vf=W(this,"uint");a.Ri=W(this,"uint");a.type=W(this,"uint");a.hi=W(this,"uint");a.gh=W(this,"ushort");if(0<a.gh){a.kh=W(this,"float",3);var b=[];b.push(W(this,"float",3));b.push(W(this,"float",3));b.push(W(this,"float",3));b.push(W(this,"float",3));a.Ch=b}this.j=284;b=a.tf*a.uf*
a.vf;switch(a.type){case 0:a.data=W(this,"uchar",b);break;case 1:a.data=W(this,"uint",b);break;case 3:a.data=W(this,"float",b);break;case 4:a.data=W(this,"ushort",b);break;default:k(Error("Unsupported MGH/MGZ data type: "+a.type))}b=jd(a.data);a.min=b[0];a.max=b[1];this.j+16<this.K.byteLength&&(a.Hh=W(this,"float"),a.qi=W(this,"float"),a.Fh=W(this,"float"),a.Gh=W(this,"float"));return a};G("X.parserMGZ",Pg);G("X.parserMGZ.prototype.parse",Pg.prototype.parse);
function Qg(){V.call(this);this.c="parserOBJ"}I(Qg,V);
Qg.prototype.parse=function(a,b,c){J.wa(this.c+".parse");this.K=c;c=c.byteLength;var d=W(this,"uchar",c),e=[];b.g=new N(c);b.h=new N(c);var f=b.g,g=b.h,h=0,l;for(l=0;l<c;++l)if(10==d[l]){var m=kd(d,h,l).replace(/\s{2,}/g," ").split(" ");if("v"==m[0])e.push([parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])]);else if("f"==m[0]){var q=e[parseInt(m[1],10)-1],h=e[parseInt(m[2],10)-1],m=e[parseInt(m[3],10)-1];f.add(q[0],q[1],q[2]);f.add(h[0],h[1],h[2]);f.add(m[0],m[1],m[2]);q=new R(q[0],q[1],q[2]);m=
new R(m[0],m[1],m[2]);h=Cc((new R(h[0],h[1],h[2])).pa(q),m.pa(q));h.normalize();g.add(h.x,h.y,h.b);g.add(h.x,h.y,h.b);g.add(h.x,h.y,h.b)}h=l+1}J.qa(this.c+".parse");c=new Xc;c.T=b;c.o=a;this.dispatchEvent(c)};G("X.parserOBJ",Qg);G("X.parserOBJ.prototype.parse",Qg.prototype.parse);function Rg(){V.call(this);this.c="parserTRK"}I(Rg,V);
Rg.prototype.parse=function(a,b,c){J.wa(this.c+".parse");var d=b.g,e=b.h,f=b.J;this.K=c;W(this,"uchar",6);W(this,"ushort",3);var g=W(this,"float",3);W(this,"float",3);var h=W(this,"ushort");W(this,"uchar",200);W(this,"ushort");W(this,"uchar",200);W(this,"float",16);W(this,"uchar",444);W(this,"uchar",4);W(this,"uchar",4);W(this,"float",6);W(this,"uchar",2);W(this,"uchar");W(this,"uchar");W(this,"uchar");W(this,"uchar");W(this,"uchar");W(this,"uchar");var l=W(this,"uint");W(this,"uint");var m=W(this,
"uint"),q=[],r=[];c=Infinity;var x=-Infinity,w=s,y=s,A=s,D=s,e=d=s,H=W(this,"uint",(this.K.byteLength-1E3)/4);this.j=m;for(var z=W(this,"float",(this.K.byteLength-1E3)/4),F=0,m=f=0;m<l;m++){for(var T=H[F],P=new N(3*T),ga=0,Y=0;Y<T;Y++){var Z=z[F+3*Y+Y*h+1],ma=z[F+3*Y+Y*h+2],ha=z[F+3*Y+Y*h+3],Z=Z/g[0],ma=ma/g[1],ha=ha/g[2];P.add(Z,ma,ha);if(0<Y)var ia=P.get(Y-1),ga=ga+Math.sqrt(Math.pow(Z-ia[0],2)+Math.pow(ma-ia[1],2)+Math.pow(ha-ia[2],2));Y<T-1&&(f+=6)}F+=3*T+T*h+1;Y=P.Wb;T=P.Tb;Z=P.Xb;ma=P.Ub;ha=
P.Yb;ia=P.Vb;if(!w||Y<w)w=Y;if(!y||T>y)y=T;if(!A||Z<A)A=Z;if(!D||ma>D)D=ma;if(!d||ha<d)d=ha;if(!e||ia>e)e=ia;q.push(P);r.push(ga)}g=(w+y)/2;A=(A+D)/2;h=(d+e)/2;D=new Float32Array(f);b.g=d=new N(f);b.h=e=new N(f);b.J=f=new N(f);for(m=w=0;m<l;m++){y=q[m];H=y.count;ga=r[m];c=Math.min(c,ga);x=Math.max(x,ga);for(Y=0;Y<H-1;Y++){F=y.get(Y);z=y.get(Y+1);d.add(F[0],F[1],F[2]);d.add(z[0],z[1],z[2]);var P=F[0]-g,T=F[1]-A,Z=F[2]-h,ma=Math.sqrt(P*P+T*T+Z*Z),ha=z[0]-g,ia=z[1]-A,Ua=z[2]-h,Hb=Math.sqrt(ha*ha+ia*
ia+Ua*Ua);e.add(P/ma,T/ma,Z/ma);e.add(ha/Hb,ia/Hb,Ua/Hb);z=[Math.abs(z[0]-F[0]),Math.abs(z[1]-F[1]),Math.abs(z[2]-F[2])];F=Math.sqrt(z[0]*z[0]+z[1]*z[1]+z[2]*z[2]);z[0]/=F;z[1]/=F;z[2]/=F;f.add(z[0],z[1],z[2]);f.add(z[0],z[1],z[2]);D[w++]=ga;D[w++]=ga;D[w++]=ga;D[w++]=ga;D[w++]=ga;D[w++]=ga}}b.aa="LINES";l=new tc;l.Pa=c;l.Ka=x;l.S=c;l.W=x;l.Qc=D;l.mg=t;l.e=p;b.u=l;J.qa(this.c+".parse");c=new Xc;c.T=b;c.o=a;this.dispatchEvent(c)};G("X.parserTRK",Rg);G("X.parserTRK.prototype.parse",Rg.prototype.parse);
function Sg(){V.call(this);this.c="parserNRRD"}I(Sg,V);
Sg.prototype.parse=function(a,b,c){J.wa(this.c+".parse");this.K=c;c=W(this,"uchar",c.byteLength);var d=c.length,e=s,f=0,g;for(g=1;g<d;g++)if(10==c[g-1]&&10==c[g]){e=kd(c,0,g-2);f=g+1;break}var h,l,m,q,d=e.split(/\r?\n/),e=0;for(g=d.length;e<g;e++)if(h=d[e],h.match(/NRRD\d+/))this.Gi=p;else if(!h.match(/^#/)&&(q=h.match(/(.*):(.*)/)))l=q[1].trim(),h=q[2].trim(),(m=this.mi[l])?m.call(this,h):this[l]=h;this.Gi||k(Error("Not an NRRD file"));"raw"!==this.encoding&&("gzip"!==this.encoding&&"gz"!==this.encoding)&&
k(Error("Only raw or gz/gzip encoding is allowed"));if(!this.Na&&(this.Na=[new R(1,0,0),new R(0,1,0),new R(0,0,1)],this.If)){d=[];for(q=0;2>=q;q++)d.push(!isNaN(this.If[q])?this.Na[q].scale(this.If[q]):n)}f=c.subarray(f);if("gzip"==this.encoding||"gz"==this.encoding)f=(new gg(new Uint8Array(f))).Ec();f=f.buffer;c={data:s,min:Infinity,max:-Infinity};c.data=new this.Nb(f);q=jd(c.data);f=c.min=q[0];q=c.max=q[1];b.ea=[this.Ff[0],this.Ff[1],this.Ff[2]];b.H=[(new R(this.Na[0][0],this.Na[0][1],this.Na[0][2])).lc(),
(new R(this.Na[1][0],this.Na[1][1],this.Na[1][2])).lc(),(new R(this.Na[2][0],this.Na[2][1],this.Na[2][2])).lc()];b.Pa=b.Y=f;b.Ka=b.X=q;-Infinity==b.S&&(b.S=f);Infinity==b.W&&(b.W=q);b.Lb();J.qa(this.c+".parse");b.tb=ld(this,b,c);c=new Xc;c.T=b;c.o=a;this.dispatchEvent(c)};
Sg.prototype.mi={type:function(a){switch(a){case "uchar":case "unsigned char":case "uint8":case "uint8_t":this.Nb=Uint8Array;break;case "signed char":case "int8":case "int8_t":this.Nb=Int8Array;break;case "short":case "short int":case "signed short":case "signed short int":case "int16":case "int16_t":this.Nb=Int16Array;break;case "ushort":case "unsigned short":case "unsigned short int":case "uint16":case "uint16_t":this.Nb=Uint16Array;break;case "int":case "signed int":case "int32":case "int32_t":this.Nb=
Int32Array;break;case "uint":case "unsigned int":case "uint32":case "uint32_t":this.Nb=Uint32Array;break;case "float":this.Nb=Float32Array;break;default:k(Error("Unsupported NRRD data type: "+a))}return this.type=a},endian:function(a){return this.El=a},encoding:function(a){return this.encoding=a},dimension:function(a){return this.Ba=parseInt(a,10)},sizes:function(a){var b,c,d,e;d=a.split(/\s+/);e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(parseInt(a,10));return this.Ff=e},"space directions":function(a){var b,
c,d;c=a.match(/\(.*?\)/g);return this.Na=function(){var a,f,g;g=[];a=0;for(f=c.length;a<f;a++)d=c[a],g.push(function(){var a,c,e,f;e=d.slice(1,-1).split(/,/);f=[];a=0;for(c=e.length;a<c;a++)b=e[a],f.push(parseFloat(b));return f}());return g}()},spacings:function(a){var b;b=a.split(/\s+/);var c,d,e;e=[];c=0;for(d=b.length;c<d;c++)a=b[c],e.push(parseFloat(a));return this.If=e}};G("X.parserNRRD",Sg);G("X.parserNRRD.prototype.parse",Sg.prototype.parse);
function Tg(){V.call(this);this.c="parserCRV";this.Id=t}I(Tg,V);
Tg.prototype.parse=function(a,b,c){J.wa(this.c+".parse");var d=b.Ac;0==d.length&&k(Error("No _pointIndices defined on the X.object."));this.K=c;this.j=3;var e=W(this,"uint");W(this,"uint");W(this,"uint");var f=0,g=0,h=0,l=0,m=0,q=0,r=0,x=0,w=0,y=0,A=0;c=Array(2);var D=Array(2),H=W(this,"float",e),z;for(z=0;z<e;z++){var F=H[z];0==z&&(c[0]=D[0]=F);0<=F?(f++,l+=F):(g++,h+=F);w+=F;A++;D[0]=Math.max(F,D[0]);c[0]=Math.min(F,c[0]);H[z]=F}0!=f&&(m=l/f);0!=g&&(q=h/g);0!=A&&(y=w/A);for(A=w=h=l=0;A<e;A++)F=
H[A],z=0,0<=F?(z=Math.pow(F-m,2),l+=z):(z=Math.pow(F-q,2),h+=z),z=Math.pow(F-y,2),w+=z;1<f&&(r=Math.sqrt(l/(f-1)));1<g&&(x=Math.sqrt(h/(g-1)));c[1]=q-2.5*x;D[1]=m+2.5*r;e=d.length;f=new Float32Array(3*e);for(A=0;A<e;A++)g=H[d[A]],h=3*A,f[h]=g,f[h+1]=g,f[h+2]=g;b.u.Pa=c[1];b.u.Ka=D[1];-Infinity==b.u.S&&(b.u.S=c[1]);Infinity==b.u.W&&(b.u.W=D[1]);b.u.z=H;b.u.Qc=f;b.u.e=p;J.qa(this.c+".parse");d=new Xc;d.T=b;d.o=a;this.dispatchEvent(d)};G("X.parserCRV",Tg);G("X.parserCRV.prototype.parse",Tg.prototype.parse);
function Ug(){V.call(this);this.c="parserSTL"}I(Ug,V);
Ug.prototype.parse=function(a,b,c){J.wa(this.c+".parse");this.K=c;var d=b.g,e=b.h;if("solid"==kd(W(this,"uchar",5))){b.g=d=new N(c.byteLength);b.h=e=new N(c.byteLength);var f=d,d=e,e=W(this,"uchar",c.byteLength-5);c=e.length;var g=t,h=t,l=0,m;for(m=0;m<c;m++)if(10==e[m]){if(g||h){var q=kd(e,l,m).split(" "),h=parseFloat(q[0]),r=parseFloat(q[1]),q=parseFloat(q[2]);g?(d.add(h,r,q),d.add(h,r,q),d.add(h,r,q)):f.add(h,r,q);h=g=t}}else 32==e[m-1]&&(102==e[m]?(l=m+=13,g=p):118==e[m]&&(l=m+=7,h=p))}else{this.j=
0;c=kd(W(this,"uchar",80)).search("COLOR=");0<=c&&(this.j=c+6,f=W(this,"uint8")/255,this.j=c+7,d=W(this,"uint8")/255,this.j=c+8,e=W(this,"uint8")/255,this.j=c+9,c=W(this,"uint8")/255,b.rb=[f,d,e],b.M=c);this.j=80;f=W(this,"uint");b.g=d=new N(9*f);b.h=e=new N(9*f);for(c=c=0;c<f;c++)g=W(this,"float",12),l=g[0],m=g[1],h=g[2],e.add(l,m,h),e.add(l,m,h),e.add(l,m,h),d.add(g[3],g[4],g[5]),d.add(g[6],g[7],g[8]),d.add(g[9],g[10],g[11]),this.j+=2}J.qa(this.c+".parse");f=new Xc;f.T=b;f.o=a;this.dispatchEvent(f)};
G("X.parserSTL",Ug);G("X.parserSTL.prototype.parse",Ug.prototype.parse);function Vg(){V.call(this);this.c="parserDCM"}I(Vg,V);
Vg.prototype.parse=function(a,b,c){c=this.nc(c,b);if(c.me==c.bb){var d=c.Hf.length,e,f=0;for(e=0;e<d;e++){var g=c.Hf[e];g!==n&&(g*=c.fb,c.data.set(c.ld.subarray(g,g+c.fb),f*c.fb),f++)}b.ea=[c.Ba[0],c.Ba[1],c.Ba[2]];Infinity==c.oa[2]&&(c.oa[2]=1);b.H=[c.oa[0],c.oa[1],c.oa[2]];e=jd(c.data);d=e[0];e=e[1];c.min=b.Pa=b.Y=d;c.max=b.Ka=b.X=e;-Infinity==b.S&&(b.S=d);Infinity==b.W&&(b.W=e);b.Lb();b.tb=ld(this,b,c)}c=new Xc;c.T=b;c.o=a;this.dispatchEvent(c)};
Vg.prototype.nc=function(a,b){this.K=a;var c=0;if(b.rc!=s){g=b.rc;h=W(this,"ushort",this.K.byteLength-2*g.fb);l=0;for(m=2;0<m;)if(d=h[l++],32==d)if(f=h[l++],19==f){l++;d=h[l++];for(f=0;f<d/2;f++)q=h[l++],r=q&255,q=(q&65280)>>8,c+=String.fromCharCode(r),c+=String.fromCharCode(q),c=parseInt(c,10);m--}else if(4161==f){l++;for(var d=h[l++],e="",f=0;f<d/2;f++)q=h[l++],r=q&255,q=(q&65280)>>8,e+=String.fromCharCode(r),e+=String.fromCharCode(q);g.oa=[g.oa[0],g.oa[1],Math.min(Math.abs(g.Qg-e),g.oa[2])];g.Qg=
e;m--}g.Ba[2]++}else{var g={rows:0,cols:0,oa:s,bf:0,Xh:0,bb:1,Ti:1,Qg:s,me:0,fb:0,ld:s,Af:0,Hf:[],data:s,min:Infinity,max:-Infinity};g.bb=b.q.length;g.bb==s&&(g.bb=1);for(var h=W(this,"ushort",this.K.byteLength),l=66,d=s,f=s,d=s,m=7;0<m;)if(d=h[l++],40==d)switch(f=h[l++],l++,d=h[l++],f){case 16:g.rows=h[l++];m--;break;case 17:g.cols=h[l++];m--;break;case 256:g.bf=h[l++];m--;break;case 257:g.Xh=h[l++];m--;break;case 2:g.Ti=h[l++];m--;break;case 48:e="";for(f=f=0;f<d/2;f++)var q=h[l++],r=q&255,q=(q&
65280)>>8,e=e+String.fromCharCode(r),e=e+String.fromCharCode(q);e=e.split("\\");g.oa=[+e[0],+e[1],Infinity];m--}else if(32==d&&(f=h[l++],19==f)){l++;d=h[l++];for(f=0;f<d/2;f++)q=h[l++],r=q&255,q=(q&65280)>>8,c+=String.fromCharCode(r),c+=String.fromCharCode(q),c=parseInt(c,10);m--}b.rc=g;g.Ba=[g.cols,g.rows,1];g.fb=g.rows*g.cols;switch(g.bf){case 8:g.ld=new Uint8Array(g.cols*g.rows*g.bb);g.data=new Uint8Array(g.cols*g.rows*g.bb);break;case 16:g.ld=new Uint16Array(g.cols*g.rows*g.bb);g.data=new Uint16Array(g.cols*
g.rows*g.bb);break;case 32:g.ld=new Uint32Array(g.cols*g.rows*g.bb),g.data=new Uint32Array(g.cols*g.rows*g.bb)}}this.j=this.K.byteLength-2*g.fb;h=s;switch(g.bf){case 8:h=W(this,"uchar",g.fb);break;case 16:h=W(this,"ushort",g.fb);break;case 32:h=W(this,"uint",g.fb)}g.Hf[c]=g.Af;g.ld.set(h,g.Af*g.fb);g.Af++;++g.me;return g};G("X.parserDCM",Vg);G("X.parserDCM.prototype.parse",Vg.prototype.parse);function Wg(){V.call(this);this.c="parserNII"}I(Wg,V);
Wg.prototype.parse=function(a,b,c){J.wa(this.c+".parse");var d=c,e=-1,e="undefined"==typeof DataView?(new Int32Array(c,0,1))[0]:(new DataView(c,0)).getInt32(0,p);348!=e&&(d=(new gg(new Uint8Array(d))).Ec(),d=d.buffer);c=this.nc(d);b.ea=[c.Ba[1],c.Ba[2],c.Ba[3]];b.H=[c.oa[1],c.oa[2],c.oa[3]];d=c.min;e=c.max;b.Pa=b.Y=d;b.Ka=b.X=e;-Infinity==b.S&&(b.S=d);Infinity==b.W&&(b.W=e);b.Lb();J.qa(this.c+".parse");b.tb=ld(this,b,c);c=new Xc;c.T=b;c.o=a;this.dispatchEvent(c)};
Wg.prototype.nc=function(a){this.K=a;a={Tj:0,bi:s,ci:s,li:0,Qj:0,Fj:0,fi:s,Ba:s,Ci:0,Di:0,Ei:0,Ai:0,lf:0,Wh:0,Xj:0,oa:s,lh:0,Oj:0,Nj:0,Wj:0,Uj:s,mk:s,Yh:0,Zh:0,Vj:0,dk:0,si:0,ti:0,ei:s,Vh:s,yj:0,Rj:0,Cj:0,Dj:0,Ej:0,zj:0,Aj:0,Bj:0,Yj:s,Zj:s,$j:s,Bi:s,Mi:s,data:s,min:Infinity,max:-Infinity};a.Tj=W(this,"uint");a.bi=W(this,"uchar",10);a.ci=W(this,"uchar",18);a.li=W(this,"uint");a.Qj=W(this,"ushort");a.Fj=W(this,"uchar");a.fi=W(this,"uchar");a.Ba=W(this,"ushort",8);a.Ci=W(this,"float");a.Di=W(this,"float");
a.Ei=W(this,"float");a.Ai=W(this,"ushort");a.lf=W(this,"ushort");a.Wh=W(this,"ushort");a.Xj=W(this,"ushort");a.oa=W(this,"float",8);a.lh=W(this,"float");a.Oj=W(this,"float");a.Nj=W(this,"float");a.Wj=W(this,"ushort");a.Uj=W(this,"uchar");a.mk=W(this,"uchar");a.Yh=W(this,"float");a.Zh=W(this,"float");a.Vj=W(this,"float");a.dk=W(this,"float");a.si=W(this,"uint",1);a.ti=W(this,"uint",1);a.ei=W(this,"uchar",80);a.Vh=W(this,"uchar",24);a.yj=W(this,"ushort");a.Rj=W(this,"ushort");a.Cj=W(this,"float");a.Dj=
W(this,"float");a.Ej=W(this,"float");a.zj=W(this,"float");a.Aj=W(this,"float");a.Bj=W(this,"float");a.Yj=W(this,"float",4);a.Zj=W(this,"float",4);a.$j=W(this,"float",4);a.Bi=W(this,"uchar",16);a.Mi=W(this,"uchar",4);this.j=parseInt(a.lh,10);var b=a.Ba[1]*a.Ba[2]*a.Ba[3];switch(a.lf){case 2:a.data=W(this,"uchar",b);break;case 4:a.data=W(this,"sshort",b);break;case 8:a.data=W(this,"sint",b);break;case 16:a.data=W(this,"float",b);break;case 256:a.data=W(this,"schar",b);break;case 512:a.data=W(this,"ushort",
b);break;case 768:a.data=W(this,"uint",b);break;default:k(Error("Unsupported NII data type: "+a.lf))}b=jd(a.data);a.min=b[0];a.max=b[1];return a};G("X.parserNII",Wg);G("X.parserNII.prototype.parse",Wg.prototype.parse);function Xg(){V.call(this);this.c="parserIMAGE"}I(Xg,V);
Xg.prototype.parse=function(a,b,c,d){c instanceof ArrayBuffer||k(Error());for(var e=new Uint8Array(c),f=e.length,g=Array(f);f--;)g[f]=String.fromCharCode(e[f]);e=window.btoa(g.join(""));f=new Image;ic(f,"load",this.vj.bind(this,f,a,b,c,d));f.src="data:image/"+d+";base64,"+e};Xg.prototype.vj=function(a,b,c){b.tb=a;b.Aa=s;a=new Xc;a.T=c;a.o=b;this.dispatchEvent(a)};G("X.parserIMAGE",Xg);G("X.parserIMAGE.prototype.parse",Xg.prototype.parse);function Yg(){V.call(this);this.c="parserFSM";this.Id=t}
I(Yg,V);
Yg.prototype.parse=function(a,b,c){J.wa(this.c+".parse");this.K=c;var d=b.g,e=b.h;b.Ac=[];var f=b.Ac;c=0;var g;do g=W(this,"uchar"),c++;while(200>c&&10!=g);W(this,"uchar");e=W(this,"uint");c=W(this,"uint");var h=W(this,"float",3*e);g=W(this,"uint",3*c);var l=new Uint32Array(e),m=new Float32Array(9*c);b.g=d=new N(9*c);b.h=e=new N(9*c);var q;for(q=0;q<c;q++){var r=3*q,x=g[r],w=g[r+1],y=g[r+2];f.push(x);f.push(w);f.push(y);l[x]+=1;l[w]+=1;l[y]+=1;var r=3*x,A=3*w,D=3*y,H=h[r],z=h[r+1],F=h[r+2],w=h[A],
y=h[A+1],x=h[A+2],T=h[D],P=h[D+1],ga=h[D+2];d.add(H,z,F);d.add(w,y,x);d.add(T,P,ga);H=new R(H,z,F);T=new R(T,P,ga);w=(new R(w,y,x)).f().pa(H);y=T.f().pa(H);w=Cc(w,y).normalize();m[r]+=w.x;m[r+1]+=w.y;m[r+2]+=w.b;m[A]+=w.x;m[A+1]+=w.y;m[A+2]+=w.b;m[D]+=w.x;m[D+1]+=w.y;m[D+2]+=w.b}for(q=0;q<c;q++)r=3*q,x=g[r],w=g[r+1],y=g[r+2],r=3*x,A=3*w,D=3*y,f=new R(m[A],m[A+1],m[A+2]),h=new R(m[D],m[D+1],m[D+2]),r=(new R(m[r],m[r+1],m[r+2])).scale(1/l[x]).normalize(),f=f.scale(1/l[w]).normalize(),h=h.scale(1/l[y]).normalize(),
e.add(r.x,r.y,r.b),e.add(f.x,f.y,f.b),e.add(h.x,h.y,h.b);b.aa=Vc;J.qa(this.c+".parse");c=new Xc;c.T=b;c.o=a;this.dispatchEvent(c)};G("X.parserFSM",Yg);G("X.parserFSM.prototype.parse",Yg.prototype.parse);function Zg(){V.call(this);this.c="parserLBL"}I(Zg,V);
Zg.prototype.parse=function(a,b,c){J.wa(this.c+".parse");var d=b.Ac,e=d.length;0==e&&k(Error("No _pointIndices defined on the X.object."));this.K=c;var f=[],g=W(this,"uchar",c.byteLength),h=g.length,l=t,m=0;for(c=1;c<h;c++)10==g[c-1]?(m=c,l=p):l&&32==g[c]&&(f.push(parseInt(kd(g,m,c),10)),l=t);g=b.u.z?b.u.z:new Float32Array(e);h=f.length;for(c=0;c<h;c++)g[f[c]]=1;f=new Float32Array(3*e);for(c=h=0;c<e;c++)l=d[c],l>e&&k(Error("Could not find scalar for vertex.")),l=g[l],f[h++]=l,f[h++]=l,f[h++]=l;b.u.z=
g;b.u.Qc=f;b.u.e=p;J.qa(this.c+".parse");d=new Xc;d.T=b;d.o=a;this.dispatchEvent(d)};G("X.parserLBL",Zg);G("X.parserLBL.prototype.parse",Zg.prototype.parse);function $g(){M.call(this);this.c="loader";this.yc=new uc;this.dd=0}I($g,M);function ah(a,b){a.dd+=b/a.yc.mb()/3;a.dd=Math.min(1,a.dd);var c=new id;c.pg=a.dd;a.dispatchEvent(c)}
function bh(a){a=a.q.Md;var b=a.split(".").pop().toUpperCase();b==a.toUpperCase()&&(b="");b in ch||k(Error("The "+b+" file format is not supported."));return[a,b,ch[b][0],ch[b][1],ch[b][2]]}
$g.prototype.load=function(a,b){(!a||!b)&&k(Error("No container or object to load."));if(!wc(this.yc.Q,a.ma)||this.yc.get(a.ma)){this.yc.set(a.ma,t);var c=bh(a)[0];if(a.Pb!=s)this.parse(s,a,b);else{var d=new XMLHttpRequest;L(d,"abort",this.Cg.bind(this,d,a,b));L(d,"error",this.Cg.bind(this,d,a,b));L(d,"load",this.parse.bind(this,d,a,b));d.open("GET",c,p);d.responseType="arraybuffer";d.send(s)}}};
$g.prototype.parse=function(a,b,c){ah(this,1);setTimeout(function(){var d=bh(b),e=d[3],d=new d[2];ic(d,"h",this.complete.bind(this));var f=b.Pb;f==s&&(f=a.response);d.parse(b,c,f,e)}.bind(this),100)};$g.prototype.complete=function(a){ah(this,1);setTimeout(function(){var b=a.o,c=a.T;b.q.e=t;b.e=p;c.s();this.yc.set(b.ma,p)}.bind(this),100)};$g.prototype.Cg=function(a,b,c){k(Error("Loading failed: ",b,c))};
var ch={PGF:[hg,t],GZ:[hg,p],OBJ:[Qg,s],STL:[Ug,s],VTK:[qd,s],TRK:[Rg,s],FSM:[Yg,s],INFLATED:[Yg,s],SMOOTHWM:[Yg,s],SPHERE:[Yg,s],PIAL:[Yg,s],ORIG:[Yg,s],NRRD:[Sg,s],NII:[Wg,s],DCM:[Vg,s],DICOM:[Vg,s],"":[Vg,s],CRV:[Tg,s],LABEL:[Zg,s],MGH:[Pg,t],MGZ:[Pg,p],TXT:[Df,s],LUT:[Df,s],PNG:[Xg,"png"],JPG:[Xg,"jpeg"],JPEG:[Xg,"jpeg"],GIF:[Xg,"gif"]};
function dh(a){function b(a,b,d){b=2*b*Math.PI;b=og(mg(l,Math.cos(b)),mg(m,Math.sin(b)));a=og(og(c,mg(e,a)),mg(b,f));d=og(mg(b,1-Math.abs(d)),mg(g,d));return new qg(a,d)}this.B=[];a=a||{};var c=new ig(a.start||[0,-1,0]),d=new ig(a.end||[0,1,0]),e=ng(d,c),f=a.cb||1;a=a.Gf||16;for(var g=lg(e),h=0.5<Math.abs(g.y()),l=lg(kg(new ig(h,!h,0),g)),m=lg(kg(l,g)),h=new qg(c,pg(g)),d=new qg(d,lg(g)),q=[],r=0;r<a;r++){var x=r/a,w=(r+1)/a;q.push(new sg([h,b(0,x,-1),b(0,w,-1)]));q.push(new sg([b(0,w,0),b(0,x,0),
b(1,x,0),b(1,w,0)]));q.push(new sg([d,b(1,w,1),b(1,x,1)]))}return Dg(q)}I(dh,Cg);function eh(){U.call(this);this.c="cylinder";this.We=[-10,-10,-10];this.Ce=[10,10,10];this.Zb=10;this.bc=32;ya(this,new Eg)}I(eh,U);eh.prototype.__defineGetter__("start",u("We"));eh.prototype.__defineSetter__("start",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid start"));this.We=a});eh.prototype.__defineGetter__("end",u("Ce"));
eh.prototype.__defineSetter__("end",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid end"));this.Ce=a});eh.prototype.__defineGetter__("radius",u("Zb"));eh.prototype.__defineSetter__("radius",function(a){E(a)||k(Error("Invalid radius."));this.Zb=a});eh.prototype.s=function(){Gg(this,new dh({start:this.We,end:this.Ce,cb:this.Zb,Gf:this.bc}));eh.n.s.call(this)};G("X.cylinder",eh);G("X.cylinder.prototype.modified",eh.prototype.s);
function zf(a){xf.call(this,a);this.c="interactor3D";this.xl=t}I(zf,xf);zf.prototype.wd=function(a){zf.n.wd.call(this,a);var b=new dd;a.Fc==s&&(a.Fc=0);b.Za=0<a.Fc;b.Oa=t;this.dispatchEvent(b)};function fh(a){M.call(this);this.c="array";this.z=[];this.Be=a}I(fh,M);fh.prototype.add=function(a){this.z.push(a);return p};fh.prototype.clear=function(){this.z.length=0};
function gh(a,b,c){var d=c-b;if(!(2>d)){d=b+Math.floor(d/2);gh(a,b,d);for(gh(a,d,c);b<d;++b)if(0<a.Be(a.z[b],a.z[d])){var e=a.z[b];a.z[b]=a.z[d];for(var f=a,g=d,h=c;g+1<h&&0>f.Be(f.z[g+1],e);){var l=f,m=g+1,q=l.z[g];l.z[g]=l.z[m];l.z[m]=q;++g}f.z[g]=e}}}fh.prototype.sort=function(){gh(this,0,this.z.length)};
function hh(a){this.B=[];a=a||{};var b=new ig(a.gf||[0,0,0]),c=!a.cb?[1,1,1]:a.cb.length?a.cb:[a.cb,a.cb,a.cb];return Dg([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(a){return new sg(a[0].map(function(e){e=new ig(b.x()+c[0]*(2*!!(e&1)-1),b.y()+c[1]*(2*!!(e&2)-1),b.b()+c[2]*(2*!!(e&4)-1));return new qg(e,new ig(a[1]))}))}))}I(hh,Cg);
function ih(){U.call(this);this.c="cube";this.m=[0,0,0];this.Ke=this.Je=this.Ie=20;this.cc=[0,1,1,1,1,0,0,1,1,0,0,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,0,0,0,1,1,0,0,0,1,0,1,1,1,1,0,0,1,1,0,0,0];ya(this,new Eg)}I(ih,U);ih.prototype.__defineGetter__("center",u("m"));ih.prototype.__defineSetter__("center",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid center"));this.m=a});ih.prototype.__defineGetter__("lengthX",u("Ie"));
ih.prototype.__defineSetter__("lengthX",function(a){E(a)||k(Error("Invalid lengthX."));this.Ie=a});ih.prototype.__defineGetter__("lengthY",u("Je"));ih.prototype.__defineSetter__("lengthY",function(a){E(a)||k(Error("Invalid lengthY."));this.Je=a});ih.prototype.__defineGetter__("lengthZ",u("Ke"));ih.prototype.__defineSetter__("lengthZ",function(a){E(a)||k(Error("Invalid lengthZ."));this.Ke=a});ih.prototype.s=function(){Gg(this,new hh({gf:this.m,cb:[this.Ie/2,this.Je/2,this.Ke/2]}));ih.n.s.call(this)};
G("X.cube",ih);G("X.cube.prototype.modified",ih.prototype.s);function Bf(a){xf.call(this,a);this.c="interactor2D"}I(Bf,xf);Bf.prototype.wd=function(a){Bf.n.wd.call(this,a);var b=new ed;a.Fc==s&&(a.Fc=0);b.I=0>a.Fc;this.dispatchEvent(b)};
function jh(a,b){(!E(a)||!E(b))&&k(Error("A camera needs valid width and height values."));M.call(this);this.c="camera";this.za=new R(0,0,100);this.wc=new R(0,0,0);this.I=new R(0,1,0);this.Vd=2;this.Wd=20;this.p=this.ne(this.za,this.wc);this.Rb=new Float32Array(this.p.La())}I(jh,M);jh.prototype.observe=function(a){(a==s||!(a instanceof xf))&&k(Error("Could not observe the interactor."));L(a,"b",this.hj.bind(this));L(a,"a",this.ej.bind(this));L(a,"c",this.tj.bind(this))};
jh.prototype.hj=function(a){a instanceof cd||k(Error("Received no valid rotate event."));this.rotate(a.L)};jh.prototype.tj=function(a){a instanceof dd||k(Error("Received no valid zoom event."));a.Za?this.mh(a.Oa):this.nh(a.Oa)};jh.prototype.ej=function(a){a instanceof bd||k(Error("Received no valid pan event."));this.dh(a.L)};jh.prototype.__defineGetter__("view",u("p"));jh.prototype.__defineSetter__("view",function(a){(a==s||!(a instanceof Qc))&&k(Error("Invalid view matrix."));this.p=a;this.Rb=new Float32Array(this.p.La())});
jh.prototype.__defineGetter__("position",function(){return[this.za.x,this.za.y,this.za.b]});jh.prototype.__defineSetter__("position",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid position."));this.za=new R(a[0],a[1],a[2]);this.reset()});jh.prototype.__defineGetter__("focus",function(){return[this.wc.x,this.wc.y,this.wc.b]});jh.prototype.__defineSetter__("focus",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid focus"));this.wc=new R(a[0],a[1],a[2]);this.reset()});
jh.prototype.__defineGetter__("up",function(){return[this.I.x,this.I.y,this.I.b]});jh.prototype.__defineSetter__("up",function(a){(a==s||!C(a)||3!=a.length)&&k(Error("Invalid up vector."));this.I=new R(a[0],a[1],a[2]);this.reset()});jh.prototype.__defineGetter__("zoomstep",u("Vd"));jh.prototype.__defineSetter__("zoomstep",function(a){E(a)||k(Error("Invalid zoomstep."));this.Vd=a});jh.prototype.__defineGetter__("zoomstep_fast",u("Wd"));
jh.prototype.__defineSetter__("zoomstep_fast",function(a){E(a)||k(Error("Invalid zoomstep_fast."));this.Wd=a});v=jh.prototype;v.reset=function(){this.p=this.ne(this.za,this.wc);this.Rb=new Float32Array(this.p.La())};v.rotate=function(a){C(a)&&2==a.length?a=new Fc(a[0],a[1]):a instanceof Fc||k(Error("Invalid distance vector for rotate operation."));return a};
v.dh=function(a){C(a)&&2==a.length?a=new Fc(a[0],a[1]):a instanceof Fc||k(Error("Invalid distance vector for pan operation."));a=new R(-a.x,a.y,0);a=Rc(4).translate(a);this.p=new Qc(a.multiply(this.p));this.Rb=new Float32Array(this.p.La())};v.mh=function(a){var b=this.Wd;a!=s&&!a&&(b=this.Vd);a=new R(0,0,b);a=Rc(4).translate(a);this.p=new Qc(a.multiply(this.p));this.Rb=new Float32Array(this.p.La())};
v.nh=function(a){var b=this.Wd;a!=s&&!a&&(b=this.Vd);a=new R(0,0,-b);a=Rc(4).translate(a);this.p=new Qc(a.multiply(this.p));this.Rb=new Float32Array(this.p.La())};v.ne=function(a,b){(!(a instanceof R)||!(b instanceof R))&&k(Error("3D vectors required for calculating the view."));return Rc(4)};G("X.camera",jh);G("X.camera.prototype.pan",jh.prototype.dh);G("X.camera.prototype.rotate",jh.prototype.rotate);G("X.camera.prototype.zoomIn",jh.prototype.mh);G("X.camera.prototype.zoomOut",jh.prototype.nh);
function kh(a,b){jh.call(this,a,b);this.c="camera2D"}I(kh,jh);kh.prototype.rotate=function(a){a=kh.n.rotate.call(this,a);var b=new ad;0<a.x?b.Ze--:0>a.x&&b.Ze++;0<a.y?b.Le++:0>a.y&&b.Le--;this.dispatchEvent(b)};B("goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST",t);var lh;
function mh(a,b,c){C(c)&&(c=c.join(" "));var d="aria-"+b;""===c||c==n?(lh||(lh={atomic:t,autocomplete:"none",dropeffect:"none",haspopup:t,live:"off",multiline:t,multiselectable:t,orientation:"vertical",readonly:t,relevant:"additions text",required:t,sort:"none",busy:t,disabled:t,hidden:t,invalid:"false"}),c=lh,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}function nh(){}nh.ri=function(){return nh.Mg?nh.Mg:nh.Mg=new nh};nh.prototype.Qi=0;
function ph(a){oc.call(this);this.kb=a||xd();this.Jl=qh;this.Lg=s;this.ic=t;this.k=s;this.rd=n;this.Zd=this.$d=this.Ea=this.Oi=s;this.lk=t}I(ph,oc);B("goog.ui.Component.ALLOW_DETACHED_DECORATION",t);ph.prototype.xi=nh.ri();B("goog.ui.Component.DEFAULT_BIDI_DIR",0);var qh=1==ph.zh?t:-1==ph.zh?p:s;v=ph.prototype;v.i=u("k");v.Ef=function(a){this.Ea&&this.Ea!=a&&k(Error("Method not supported"));ph.n.Ef.call(this,a)};v.pd=u("kb");v.Dc=function(){this.k=this.kb.createElement("DIV")};v.pc=function(a){this.Mb(a)};
v.Mb=function(a,b){this.ic&&k(Error("Component already rendered"));this.k||this.Dc();a?a.insertBefore(this.k,b||s):this.kb.Z.body.appendChild(this.k);(!this.Ea||this.Ea.ic)&&this.be()};v.be=function(){this.ic=p;rh(this,function(a){!a.ic&&a.i()&&a.be()})};v.od=function(){rh(this,function(a){a.ic&&a.od()});this.rd&&this.rd.Kc();this.ic=t};
v.ga=function(){this.ic&&this.od();this.rd&&(this.rd.Gc(),delete this.rd);rh(this,function(a){a.Gc()});!this.lk&&this.k&&Jd(this.k);this.Ea=this.Oi=this.k=this.Zd=this.$d=s;ph.n.ga.call(this)};function rh(a,b){a.$d&&cb(a.$d,b,n)}
v.removeChild=function(a,b){if(a){var c=na(a)?a:a.Lg||(a.Lg=":"+(a.xi.Qi++).toString(36)),d;this.Zd&&c?(d=this.Zd,d=(c in d?d[c]:n)||s):d=s;a=d;c&&a&&(d=this.Zd,c in d&&delete d[c],gb(this.$d,a),b&&(a.od(),a.k&&Jd(a.k)),c=a,c==s&&k(Error("Unable to set parent component")),c.Ea=s,ph.n.Ef.call(c,s))}a||k(Error("Child is not in parent component"));return a};function sh(){oc.call(this)}I(sh,oc);v=sh.prototype;v.Qf=0;v.ud=0;v.sf=100;v.Bg=0;v.Kf=1;v.Fi=t;v.Pi=t;
v.ue=function(a){a=th(this,a);this.Qf!=a&&(this.Qf=a+this.Bg>this.sf?this.sf-this.Bg:a<this.ud?this.ud:a,!this.Fi&&!this.Pi&&this.dispatchEvent("change"))};v.fe=function(){return th(this,this.Qf)};v.ee=function(){return th(this,this.ud)};v.de=function(){return th(this,this.sf)};function th(a,b){return a.Kf==s?b:a.ud+Math.round((b-a.ud)/a.Kf)*a.Kf}function uh(a){ph.call(this,a);this.Jc=new sh;L(this.Jc,"change",this.ui,t,this)}I(uh,ph);var vh={vertical:"progress-bar-vertical",horizontal:"progress-bar-horizontal"};
v=uh.prototype;v.Dc=function(){this.Xa=this.pd().Dc("DIV","progress-bar-thumb");var a=vh[this.bh];this.k=this.pd().Dc("DIV",a,this.Xa);wh(this);mh(this.i(),"valuemin",this.ee());mh(this.i(),"valuemax",this.de())};v.be=function(){uh.n.be.call(this);K&&7>Cb&&L(this.i(),"resize",this.ye,t,this);this.ye();var a=this.i();a.setAttribute("role","progressbar");mh(a,"live","polite")};v.od=function(){uh.n.od.call(this);xh(this)};function xh(a){K&&7>Cb&&jc(a.i(),"resize",a.ye,t,a)}v.fe=function(){return this.Jc.fe()};
v.ue=function(a){this.Jc.ue(a);this.i()&&wh(this)};function wh(a){mh(a.i(),"valuenow",a.fe())}v.ee=function(){return this.Jc.ee()};v.de=function(){return this.Jc.de()};v.bh="horizontal";v.ui=function(){this.ye();this.dispatchEvent("change")};
v.ye=function(){if(this.Xa){var a=this.ee(),b=this.de(),a=(this.fe()-a)/(b-a),b=Math.round(100*a);"vertical"==this.bh?K&&7>Cb?(this.Xa.style.top=0,this.Xa.style.height="100%",b=this.Xa.offsetHeight,a=Math.round(a*b),this.Xa.style.top=b-a+"px",this.Xa.style.height=a+"px"):(this.Xa.style.top=100-b+"%",this.Xa.style.height=b+"%"):this.Xa.style.width=b+"%"}};v.ga=function(){xh(this);uh.n.ga.call(this);this.Xa=s;this.Jc.Gc()};
function yh(a,b){a==s&&k(Error("No valid parent element."));b==s&&k(Error("Invalid initial value."));uh.call(this);this.c="progressbar";this.ra=a;this.ig="";this.Fd=this.ib=s;this.Ob=[];var c;c=".progress-bar-horizontal {\n  position: relative;\n  border: 1px solid #949dad;\n";c+="  background: white;\n";c+="  padding: 1px;\n";c+="  overflow: hidden;\n";c+="  margin: 2px;\n";c+="  width: 100px;\n";c+="  height: 5px;\n";c+="}";var d;d=".progress-bar-thumb {\n  position: relative;\n  background: #F62217;\n";
d+="  overflow: hidden;\n";d+="  width: 0%;\n";d+="  height: 100%;\n";d+="}";var e;e=".progress-bar-thumb-done {\n  background: #57E964;\n}";this.Ob=[c,d,e];this.ue(b);this.pf()}I(yh,uh);
yh.prototype.pf=function(){if("static"==this.ra.style.position||""==this.ra.style.position)this.ig=this.ra.style.position,this.ra.style.position="relative";var a=document.getElementsByTagName("head")[0],b=Fd("style");b.type="text/css";b.media="screen";var c=document.createTextNode(String(this.Ob[0])),d=document.createTextNode(String(this.Ob[1])),e=document.createTextNode(String(this.Ob[2]));a.appendChild(b);b.appendChild(c);b.appendChild(d);b.appendChild(e);this.ib=b;this.pc(this.ra);a=this.i();a.style.position=
"absolute";a.style.top=(this.ra.clientHeight-5)/2+"px";a.style.left=(this.ra.clientWidth-100)/2+"px";a.classList.add("xtk-progress-bar")};function zh(a){var b=a.i().style.top,c=a.i().style.left;Jd(a.i());var d=new yh(a.ra,100),e=d.i();e.style.position="absolute";e.style.top=b;e.style.left=c;e.classList.add("xtk-progress-bar");(fa(e.firstElementChild)?e.firstElementChild:Kd(e.firstChild)).classList.add("progress-bar-thumb-done");a.Fd=d}
yh.prototype.le=function(){this.ib&&Jd(this.ib);this.i()&&Jd(this.i());this.Fd&&Jd(this.Fd.i());this.Fd=this.ib=s;this.ra.style.position=this.ig};function Ah(a,b){jh.call(this,a,b);this.c="camera3D";this.Gd=45;this.jg=new Float32Array(Bh(this.Gd,a/b).La())}I(Ah,jh);jh.prototype.__defineGetter__("fovy",u("Gd"));jh.prototype.__defineSetter__("fovy",function(a){E(a)||k(Error("Invalid fieldOfView."));this.Gd=a});
function Bh(a,b){var c=1*Math.tan(a*Math.PI/360),d=-c;return new Qc([[2/(c*b-d*b),0,(c*b+d*b)/(c*b-d*b),0],[0,2/(c-d),(c+d)/(c-d),0],[0,0,-10001/9999,-2.000200020002],[0,0,-1,0]])}
Ah.prototype.rotate=function(a){a=Ah.n.rotate.call(this,a);var b=-a.x/5*Math.PI/180;a=-a.y/5*Math.PI/180;var c=Rc(4),d=new R(parseFloat(this.p.$(0,0)),parseFloat(this.p.$(0,1)),parseFloat(this.p.$(0,2))),b=c.rotate(b,new R(parseFloat(this.p.$(1,0)),parseFloat(this.p.$(1,1)),parseFloat(this.p.$(1,2))));a=c.rotate(a,d);this.p=new Qc(this.p.multiply(a.multiply(b)));this.Rb=new Float32Array(this.p.La())};
Ah.prototype.ne=function(a,b){Ah.n.ne.call(this,a,b);var c=Rc(4),d=new R(a.x-b.x,a.y-b.y,a.b-b.b),d=d.normalize(),e=this.I.f();e.nd(d)&&(e.b+=1E-6);var f=Cc(e,d),e=Cc(d,f),f=f.normalize(),e=e.normalize();c.l(0,0,f.x);c.l(0,1,f.y);c.l(0,2,f.b);c.l(0,3,0);c.l(1,0,e.x);c.l(1,1,e.y);c.l(1,2,e.b);c.l(1,3,0);c.l(2,0,d.x);c.l(2,1,d.y);c.l(2,2,d.b);c.l(2,3,0);c.l(3,0,0);c.l(3,1,0);c.l(3,2,0);c.l(3,3,1);d=a.f();return c.translate(d.ba())};G("X.camera3D",Ah);
function Ch(){M.call(this);this.c="renderer";this.o=window.document.body;this.O=this.o.clientWidth;this.G=this.o.clientHeight;this.Sb=this.t=this.ka=s;this.Qa=new fh(Yc);this.$a=[];this.C=s;this.Qe=this.Jd=this.Kd=t;this.a=this.sa=s;this.v={PROGRESSBAR_ENABLED:p,INTERMEDIATE_RENDERING:t};this.Xf=-1;window.console.log("XTK release 9 -- ###TIMESTAMP### -- http://www.goXTK.com -- @goXTK")}I(Ch,M);v=Ch.prototype;v.fj=function(a){this.sa&&this.sa.ue(100*a.pg)};
v.Wi=function(a){a!=s&&a instanceof Xc&&a.T&&this.eb(a.T)};v.yf=function(a){(a==s||!(a instanceof fd))&&k(Error("Invalid hover event."))};v.gj=function(){var a=Ad(document,this.o);this.O=a.clientWidth;this.G=a.clientHeight;a=Ad(document,this.ka);a.width=this.O;a.height=this.G;"renderer3D"==this.c&&(this.a.viewport(0,0,this.O,this.G),this.t.jg=new Float32Array(Bh(this.t.Gd,this.ka.width/this.ka.height).La()));this.Mc()};v.zf=function(a){(a==s||!(a instanceof ed))&&k(Error("Invalid scroll event."))};
Ch.prototype.__defineGetter__("config",u("v"));Ch.prototype.__defineGetter__("interactor",u("Sb"));Ch.prototype.__defineGetter__("camera",u("t"));Ch.prototype.__defineGetter__("loadingCompleted",u("Jd"));Ch.prototype.__defineGetter__("container",u("o"));Ch.prototype.__defineSetter__("container",function(a){a==s&&k(Error("An ID to a valid container (<div>..) is required."));var b=a;na(b)&&(b=Ad(document,a));pa(b)&&1==b.nodeType||k(Error("Could not find the given container."));this.o=b});v=Ch.prototype;
v.Mc=function(){this.t.reset()};function Dh(a){a.v.PROGRESSBAR_ENABLED&&(a.sa&&!a.Yf)&&(zh(a.sa),a.Yf=Re(function(){this.Yf=s;this.sa&&(this.sa.le(),this.sa=s);this.pc()}.bind(a),700))}
v.Ma=function(a){var b=Fd("canvas");this.o.appendChild(b);this.O=this.o.clientWidth;this.G=this.o.clientHeight;b.width=this.O;b.height=this.G;try{var c=b.getContext(a,{alpha:t});c||k(Error())}catch(d){var e="Sorry, "+a+' context is <strong>not supported</strong> on this machine! See <a href="http://crash.goXTK.com" target="_blank">http://crash.goXTK.com</a> for requirements..';this.o.innerHTML='<h3 style="color:red;font-family:sans-serif;">Oooops..</h3><p style="color:red;font-family:sans-serif;">'+
e+"</p>";k(Error(e))}this.C=new $g;L(this.C,"i",this.fj.bind(this));this.ka=b;this.a=c;b=new zf(this.ka);"2d"==a&&(b=new Bf(this.ka));b.Ma();L(b,"f",this.Mc.bind(this));L(b,"j",this.yf.bind(this));L(b,"d",this.zf.bind(this));this.Sb=b;b=new Ah(this.O,this.G);"2d"==a&&(b=new kh(this.O,this.G));b.observe(this.Sb);this.t=b;L(window,"resize",this.gj,t,this)};v.add=function(a){(a instanceof ih||a instanceof Kg||a instanceof eh)&&a.s();this.$a.push(a);this.eb(a)};
v.eb=function(a){(!this.ka||!this.a)&&k(Error("The renderer was not initialized properly."));a==s&&(window.console.log(a),k(Error("Illegal object.")));var b;Tb(a)?b=a.je("h",n):(b=fc(a),b=!!b&&b.je("h",n));b||L(a,"h",this.Wi.bind(this))};v.get=function(a){a==s&&k(Error("Invalid object id."));for(var b=this.Qa.z,c=b.length,d=0,d=0;d<c;d++)if(b[d].ma==a)return b[d];return s};
v.pc=function(){(!this.ka||!this.a)&&k(Error("The renderer was not initialized properly."));if(this.lg==s){if(this.C.yc.hf(t)){if(this.v.PROGRESSBAR_ENABLED&&!this.sa&&(this.sa=new yh(this.o,3)),this.Qe=this.Jd=t,this.lg=Re(function(){this.lg=s;this.pc()}.bind(this),100),!this.v.INTERMEDIATE_RENDERING)return}else if(!this.Jd&&!this.Qe&&(this.Qe=p,eval("this.onShowtime()"),this.Jd=p),this.sa){Dh(this);return}this.Xf=window.requestAnimationFrame(this.pc.bind(this),this.ka);eval("this.onRender()");this.Mb(t,
p)}};v.ah=aa();v.Zg=aa();v.Mb=aa();v.ae=function(){window.cancelAnimationFrame(this.Xf);this.C&&(delete this.C,this.C=s);this.sa&&(this.sa.le(),delete this.sa,this.sa=s);this.Qa.clear();delete this.Qa;this.$a.length=0;delete this.$a;delete this.C;this.C=s;delete this.t;this.t=s;delete this.Sb;this.Sb=s;delete this.a;this.a=s;Jd(this.ka);delete this.ka;this.ka=s};
function Eh(){Ch.call(this);this.c="renderer2D";this.cg=this.Ge=this.$f=this.Ee=this.Db=s;this.Nd=this.$b=this.ac=this.Ue=this.Ve=0;this.X=this.Y=this.W=this.S=this.Zf=-1}I(Eh,Ch);Eh.prototype.ij=aa();Eh.prototype.rj=aa();Eh.prototype.zf=function(a){Eh.n.zf.call(this,a);var b=this.$a[0];if(b){var c=this.Db;b["index"+c]=a.I?b["index"+c]+1:b["index"+c]-1;eval("this.onScroll();")}};
Eh.prototype.sj=function(a){var b=this.$a[0];if(b){var c=b.X-b.Y,d=c/2,e=parseInt(c+c/15*-a.Ze,10);a=parseInt(d+d/15*a.Le,10);c==e&&e++;d==a&&a++;b.Y-=parseInt(d-a,10);b.Y-=parseInt(c-e,10);b.Y=Math.max(b.Y,b.Pa);b.X-=parseInt(d-a,10);b.X+=parseInt(c-e,10);b.X=Math.min(b.X,b.Ka);eval("this.onWindowLevel();")}};Eh.prototype.__defineGetter__("orientation",u("Db"));
Eh.prototype.__defineSetter__("orientation",function(a){a=a.toUpperCase();"X"!=a&&("Y"!=a&&"Z"!=a)&&k(Error("Invalid orientation."));this.Db=a});v=Eh.prototype;v.Ma=function(){this.Db||k(Error("No 2D orientation set."));Eh.n.Ma.call(this,"2d");this.a.fillStyle="rgba(0,0,0,0)";this.a.fillRect(0,0,this.ka.width,this.ka.height);this.Ee=Fd("canvas");this.Ge=Fd("canvas");L(this.t,"g",this.sj.bind(this))};v.rotate=function(){this.Nd++};v.Jj=function(){this.Nd--};
v.Mc=function(){Eh.n.Mc.call(this);Fh(this);var a=this.$a[0];a&&(a.X=a.Ka,a.Y=a.Pa)};
v.eb=function(a){Eh.n.eb.call(this,a);var b=t;this.get(a.ma)&&(b=p);if(a instanceof O){var c=a.q,d=a.r,e=a.da;if(d!=s&&d.q!=s&&d.q.e)this.eb(d);else if(e!=s&&e.q!=s&&e.q.e)this.C.load(e,a);else{if(c!=s&&C(c))if(a.rc!=s){if(a.rc.me!=c.length||b&&!a.e)return}else{b=0;d=c.length;for(b=0;b<d;b++)this.C.load(c[b],a);return}else if(c!=s&&c.e){this.C.load(a,a);return}var d=c=0,e=a.ea,f=a.H;"X"==this.Db?(this.bc=a.U.d,c=e[1],d=e[2],this.ac=f[1],this.$b=f[2]):"Y"==this.Db?(this.bc=a.V.d,c=e[0],d=e[2],this.ac=
f[0],this.$b=f[2]):"Z"==this.Db&&(this.bc=a.hb.d,c=e[0],d=e[1],this.ac=f[0],this.$b=f[1]);this.Ve=c;this.Ue=d;e=this.Ee;e.width=c;e.height=d;f=this.Ge;f.width=c;f.height=d;this.$f=e.getContext("2d");this.cg=f.getContext("2d");b||(this.Qa.add(a),Fh(this))}}};function Fh(a){var b=Math.min(a.O/(a.Ve*a.ac),a.G/(a.Ue*a.$b));a.t.p.l(2,3,b)}
v.Mb=function(a,b){Eh.n.Mb.call(this,a,b);if(0!=this.Qa.z.length){var c=this.O,d=this.G,e=this.t.p;this.a.save();this.a.clearRect(-c,-d,2*c,2*d);this.a.restore();var f=1*e.$(0,3),g=-1*e.$(1,3),h=Math.max(e.$(2,3),0.6);this.a.setTransform(h,0,0,h,f,g);var e=this.$a[0],l=e["index"+this.Db],m=this.bc[parseInt(l,10)],q=m.A.Aa,m=m.r,r=s;m&&(r=m.Aa);var x=this.Ve,w=this.Ue,y=this.$f,A=this.cg,D=y.getImageData(0,0,x,w),H=A.getImageData(0,0,x,w),z=D.data,F=H.data,T=z.length,P=e.Ka,ga=e.S,Y=e.W,Z=e.Y/P,ma=
e.X/P;if(this.Zf!=l||this.S!=ga||this.W!=Y||this.Y!=Z||this.X!=ma){var ha=0;do{var ia=[0,0,0,0],Ua=[0,0,0,0],Hb=q[ha]/255*P,wa=q[ha],wa=(wa/255-Z)/(ma-Z),wa=255*wa;Hb>=ga&&Hb<=Y&&(ia=new R(e.Cb[0],e.Cb[1],e.Cb[2]),ia=(new R(e.Ab[0],e.Ab[1],e.Ab[2])).scale(wa).add(ia.scale(255-wa)),ia=[Math.floor(ia.x),Math.floor(ia.y),Math.floor(ia.b),255],m&&(Ua=[r[ha],r[ha+1],r[ha+2],r[ha+3]]));wa=T-1-ha;z[wa-3]=ia[0];z[wa-2]=ia[1];z[wa-1]=ia[2];z[wa]=ia[3];F[wa-3]=Ua[0];F[wa-2]=Ua[1];F[wa-1]=Ua[2];F[wa]=Ua[3];
ha+=4}while(ha<T);y.putImageData(D,0,0);A.putImageData(H,0,0);this.Zf=l;this.S=ga;this.W=Y;this.Y=Z;this.X=ma}this.a.globalAlpha=1;this.a.translate(c/2/h,d/2/h);this.a.rotate(0.5*Math.PI*this.Nd);switch(this.Nd%4){case 1:c=f;f=g;g=-c;break;case 2:f*=-1;g*=-1;break;case 3:c=f,f=-g,g=c}f=-x*this.ac/2+f;g=-w*this.$b/2+g;this.a.drawImage(this.Ee,f,g,x*this.ac,w*this.$b);m&&e.r.Ra&&(this.a.globalAlpha=e.r.M,this.a.drawImage(this.Ge,f,g,x*this.ac,w*this.$b))}};G("X.renderer2D",Eh);
G("X.renderer2D.prototype.init",Eh.prototype.Ma);G("X.renderer2D.prototype.add",Eh.prototype.add);G("X.renderer2D.prototype.onShowtime",Eh.prototype.ah);G("X.renderer2D.prototype.onRender",Eh.prototype.Zg);G("X.renderer2D.prototype.onScroll",Eh.prototype.ij);G("X.renderer2D.prototype.onWindowLevel",Eh.prototype.rj);G("X.renderer2D.prototype.get",Eh.prototype.get);G("X.renderer2D.prototype.rotate",Eh.prototype.rotate);G("X.renderer2D.prototype.rotateCounter",Eh.prototype.Jj);
G("X.renderer2D.prototype.resetViewAndRender",Eh.prototype.Mc);G("X.renderer2D.prototype.render",Eh.prototype.pc);G("X.renderer2D.prototype.destroy",Eh.prototype.ae);function Gh(){U.call(this);this.c="fibers";ya(this,new sc)}I(Gh,U);G("X.fibers",Gh);
function Hh(){M.call(this);this.c="shaders";this.Ye=" precision mediump float;attribute vec3 vertexPosition;attribute vec3 vertexNormal;attribute vec3 vertexColor;attribute vec2 vertexTexturePos;attribute float vertexScalar;uniform bool pyformex;uniform mat4 modelview;uniform mat4 projection;uniform mat4 pickmat;uniform bool useObjectColor;uniform bool highlight;uniform mat4 objectTransform;uniform bool useScalars;uniform bool scalarsReplaceMode;uniform float scalarsMin;uniform float scalarsMax;uniform vec3 scalarsMinColor;uniform vec3 scalarsMaxColor;uniform float scalarsMinThreshold;uniform float scalarsMaxThreshold;uniform int scalarsInterpolation;uniform vec3 objectColor;uniform float pointsize;uniform bool picking;uniform bool alphablend;uniform int drawface;uniform bool lighting;uniform int nlights;uniform vec3 ambicolor;uniform vec3 diffcolor[4];uniform vec3 speccolor[4];uniform vec3 lightdir[4];uniform float ambient;uniform float diffuse;uniform float specular;uniform float shininess;uniform float alpha;varying float fDiscardNow;varying vec4 fvertexPosition;varying vec3 fvertexNormal;varying vec4 fragColor;varying vec3 fragmentColor;varying vec2 fragmentTexturePos;varying vec3 fTransformedVertexNormal;void main(){  if (picking) {    fragmentColor = vec3(0.,0.,0.);  } else {    if (highlight) {      fragmentColor = vec3(1.,1.,0.);    } else if (useObjectColor) {      fragmentColor = objectColor;    } else {      fragmentColor = vertexColor;    }    if (highlight) {      fragColor = vec4(fragmentColor,1.);    } else {      if (lighting) { fvertexNormal = vertexNormal; fTransformedVertexNormal = mat3(modelview[0].xyz,modelview[1].xyz,modelview[2].xyz) * fvertexNormal; vec3 nNormal = normalize(fTransformedVertexNormal);        if (drawface == 0 && nNormal[2] < 0.0) {   nNormal = -nNormal; } vec3 fcolor = fragmentColor; fragmentColor = fcolor * ambicolor * ambient; for (int i=0; i<4; ++i) {   if (i < nlights) {     vec3 nlight = normalize(lightdir[i]);     vec3 eyeDirection = normalize(vec3(0.,0.,1.));     vec3 reflectionDirection = reflect(-nlight, nNormal);     float nspecular = specular*pow(max(dot(reflectionDirection,eyeDirection), 0.0), shininess);     float ndiffuse = diffuse * max(dot(nNormal,nlight),0.0);     vec3 diffcol = vec3(1.,1.,0.);     fragmentColor += (fcolor + diffcolor[i])/2. * ndiffuse;     fragmentColor += (fcolor + speccolor[i])/2. * nspecular;   } }      }      if (alphablend) {       fragColor = vec4(fragmentColor,alpha);      } else {       fragColor = vec4(fragmentColor,1.);      }    }    gl_PointSize = pointsize;  }  fvertexPosition = vec4(vertexPosition,1.0);  if (picking) {    gl_Position = pickmat * projection * modelview * fvertexPosition;  } else {    gl_Position = projection * modelview * fvertexPosition;  }}";this.De=
" precision mediump float;varying vec3 fragmentColor;varying vec4 fragColor;uniform float alpha;void main(void) {  gl_FragColor = fragColor;}"}I(Hh,M);
var Ih={kl:"vertexPosition",jl:"vertexNormal",il:"vertexColor",ml:"vertexTexturePos",ll:"vertexScalar"},Jh={nl:"modelview",Nk:"projection",Pk:"pickmat",el:"useObjectColor",Dk:"highlight",Mk:"objectTransform",gl:"useScalars",Yk:"scalarsReplaceMode",Vk:"scalarsMin",Sk:"scalarsMax",Wk:"scalarsMinColor",Tk:"scalarsMaxColor",Xk:"scalarsMinThreshold",Uk:"scalarsMaxThreshold",Rk:"scalarsInterpolation",Kk:"objectColor",Qk:"pointsize",Ok:"picking",ok:"alphablend",Hk:"lighting",Jk:"nlights",pk:"ambicolor",
zk:"diffcolor",$k:"speccolor",Gk:"lightdir",qk:"ambient",Ak:"diffuse",al:"specular",Zk:"shininess",Lk:"alpha"};function Kh(a){var b=Object.keys(Jh);Object.keys(Ih).every(function(a){a=Ih[a];return-1!=this.Ye.search(a)||-1!=this.De.search(a)}.bind(a))||k(Error("Could not find all attributes in the shader sources."));b.every(function(a){a=Jh[a];return-1!=this.Ye.search(a)||-1!=this.De.search(a)}.bind(a))||k(Error("Could not find all uniforms in the shader sources."))}
var Lh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
function Mh(a){var b={};a=String(a);var c="#"==a.charAt(0)?a:"#"+a;if(Nh.test(c))return b.sd=Oh(c),b.type="hex",b;a:{var d=a.match(Ph);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length)return e=c[0],a=c[1],c=c[2],e=Number(e),a=Number(a),c=Number(c),(isNaN(e)||0>e||255<e||isNaN(a)||0>a||255<a||isNaN(c)||0>c||255<c)&&k(Error('"('+e+","+a+","+c+'") is not a valid RGB color')),e=Qh(e.toString(16)),a=Qh(a.toString(16)),
c=Qh(c.toString(16)),b.sd="#"+e+a+c,b.type="rgb",b;if(Lh&&(c=Lh[a.toLowerCase()]))return b.sd=c,b.type="named",b;k(Error(a+" is not a valid color string"))}var Rh=/#(.)(.)(.)/;function Oh(a){Nh.test(a)||k(Error("'"+a+"' is not a valid hex color"));4==a.length&&(a=a.replace(Rh,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Sh(a){a=Oh(a);return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]}var Nh=/^#(?:[0-9a-f]{3}){1,2}$/i,Ph=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
function Qh(a){return 1==a.length?"0"+a:a}function Th(){Ch.call(this);this.c="renderer3D";this.Zc=this.bd=this.Yc=this.ad=this.Xc=this.$c=this.Se=this.Te=s;this.m=[0,0,0];this.kg=s;this.Ae=new uc;this.og=new uc;this.gd=new uc;this.Oe=new uc;this.Ed=new uc;this.Od=new uc;this.Pd=new uc;this.Qd=new uc;this.v={PROGRESSBAR_ENABLED:p,PICKING_ENABLED:p,ORDERING_ENABLED:p,ORDERING_COMPARATOR:"OPACITY",STATISTICS_ENABLED:t,INTERMEDIATE_RENDERING:t};this.Cd=0;this.Ii=1;this.Si=3}I(Th,Ch);
Th.prototype.__defineGetter__("config",u("v"));v=Th.prototype;v.Gj=function(){this.Zc=this.bd=this.Yc=this.ad=this.Xc=this.$c=s;this.m=[0,0,0]};v.ih=function(a){this.Cd=a;Uh(this)};v.ek=function(){this.ih(!this.Cd)};function Uh(a){a.Cd?(window.console.log("Transparency enabled"),a.a.enable(a.a.BLEND),a.a.blendEquation(a.a.FUNC_ADD),a.a.blendFunc(a.a.SRC_ALPHA,a.a.ONE_MINUS_SRC_ALPHA)):(window.console.log("Transparency disabled"),a.a.disable(a.a.BLEND))}
v.yf=function(a){Th.n.yf.call(this,a);var b=a.Td;a=a.Ud;var c=this.fh(b,a);if(c=this.get(c))if(c=c.uc)if(b=new Cf(this.o,this.o.offsetLeft+b+10,this.o.offsetTop+a+10,this.Sb),ee.nk||k(Error("Error: Legacy conversion from string to goog.html types is disabled")),a=(new td).zi(c),b=b.i())a instanceof td&&a.constructor===td&&a.Dh===ud?a=a.Bf:(Ya("expected object of type SafeHtml, got '"+a+"'"),a="type_error:SafeHtml"),b.innerHTML=a};
v.Ma=function(){Th.n.Ma.call(this,"experimental-webgl");try{this.a.viewport(0,0,this.O,this.G);var a=this.o.style.backgroundColor?Sh(Mh(this.o.style.backgroundColor).sd):this.o.bgColor?Sh(Mh(this.o.bgColor).sd):Sh(Mh("white").sd);this.a.clearColor(a[0]/255,a[1]/255,a[2]/255,1);Uh(this);this.a.enable(this.a.DEPTH_TEST);this.a.depthMask(p);this.a.depthFunc(this.a.LESS);this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT);if(this.v.PICKING_ENABLED){var b=this.a.createFramebuffer(),c=this.a.createRenderbuffer(),
d=this.a.createTexture();this.a.bindTexture(this.a.TEXTURE_2D,d);this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGB,this.O,this.G,0,this.a.RGB,this.a.UNSIGNED_BYTE,s);this.a.bindFramebuffer(this.a.FRAMEBUFFER,b);this.a.bindRenderbuffer(this.a.RENDERBUFFER,c);this.a.renderbufferStorage(this.a.RENDERBUFFER,this.a.DEPTH_COMPONENT16,this.O,this.G);this.a.bindRenderbuffer(this.a.RENDERBUFFER,s);this.a.framebufferTexture2D(this.a.FRAMEBUFFER,this.a.COLOR_ATTACHMENT0,this.a.TEXTURE_2D,d,0);this.a.framebufferRenderbuffer(this.a.FRAMEBUFFER,
this.a.DEPTH_ATTACHMENT,this.a.RENDERBUFFER,c);this.a.bindFramebuffer(this.a.FRAMEBUFFER,s);this.kg=b}}catch(e){k(Error("Exception while accessing GL Context!\n"+e))}a=new Hh;Vh(this,a)};
function Vh(a,b){(a.ka==s||a.a==s||a.t==s)&&k(Error("Renderer was not initialized properly."));(b==s||!(b instanceof Hh))&&k(Error("Could not add shaders."));Kh(b);var c=a.a.createShader(a.a.FRAGMENT_SHADER),d=a.a.createShader(a.a.VERTEX_SHADER);a.a.shaderSource(c,b.De);a.a.shaderSource(d,b.Ye);a.a.compileShader(c);a.a.compileShader(d);a.a.getShaderParameter(c,a.a.COMPILE_STATUS)||k(Error("Fragement Shader compilation failed!\n"+a.a.getShaderInfoLog(c)));a.a.getShaderParameter(d,a.a.COMPILE_STATUS)||
k(Error("Vertex Shader compilation failed!\n"+a.a.getShaderInfoLog(d)));var e=a.a.createProgram();a.a.attachShader(e,d);a.a.attachShader(e,c);a.a.linkProgram(e);a.a.getProgramParameter(e,a.a.LINK_STATUS)||k(Error("Could not create shader program!\n"+a.a.getShaderInfoLog(c)+"\n"+a.a.getShaderInfoLog(d)+"\n"+a.a.getProgramInfoLog(e)));a.a.useProgram(e);a.Se=e;Object.keys(Ih).forEach(function(a){a=Ih[a];this.Ae.set(a,this.a.getAttribLocation(this.Se,a));this.a.enableVertexAttribArray(this.Ae.get(a))}.bind(a));
Object.keys(Jh).forEach(function(a){a=Jh[a];this.og.set(a,this.a.getUniformLocation(this.Se,a))}.bind(a));a.Te=b}
v.eb=function(a){Th.n.eb.call(this,a);var b=t;this.get(a.ma)&&(b=p);var c=a.ma,d=a.g,e=a.h,f=a.J,g=a.A,h=a.q,l=a.dc,m=a.da,q=a.r,r=a.u;if(q!=s&&q.q!=s&&q.q.e)this.eb(q);else if(q!=s&&q.e&&this.eb(q),m!=s&&m.q!=s&&m.q.e)this.C.load(m,a);else if(g!=s&&g.q!=s&&g.q.e)this.C.load(g,a);else{if(h!=s&&C(h))if(a.rc!=s){if(a.rc.me!=h.length||!a.e)return}else{b=0;c=h.length;for(b=0;b<c;b++)this.C.load(h[b],a);return}else{if(h!=s&&h.e){this.C.load(a,a);return}if(r!=s&&r.q!=s&&r.q.e){this.C.load(r,a);return}}if(0<
a.d.length){h=a.d;m=h.length;for(q=q=0;q<m;q++)this.eb(h[q])}if(d){for(h=0;this.Kd;)h++,window.console.log("Possible thread lock avoided: "+h);this.Kd=p;m=a instanceof Mg&&a.jb instanceof Og;b&&(g!=s&&g.e)&&(h=this.Pd.get(c),h!=s&&this.a.isBuffer(h.la)&&this.a.deleteBuffer(h.la));h=s;g!=s&&(!b||g.e?(h=a.cc,h==s&&k(Error("Can not add an object and texture without valid coordinate mapping! Set the textureCoordinateMap!")),q=t,g.Aa&&(q=p),this.a.pixelStorei(this.a.UNPACK_FLIP_Y_WEBGL,q),q=this.a.createTexture(),
q.yi=g.tb,this.Qd.set(g.ma,q),this.a.bindTexture(this.a.TEXTURE_2D,q),g.Aa?this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGBA,g.Hb,g.Gb,0,this.a.RGBA,this.a.UNSIGNED_BYTE,g.Aa):this.a.texImage2D(this.a.TEXTURE_2D,0,this.a.RGBA,this.a.RGBA,this.a.UNSIGNED_BYTE,q.yi),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_S,this.a.CLAMP_TO_EDGE),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_WRAP_T,this.a.CLAMP_TO_EDGE),m?(this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.NEAREST),
this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.NEAREST)):(this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MAG_FILTER,this.a.LINEAR),this.a.texParameteri(this.a.TEXTURE_2D,this.a.TEXTURE_MIN_FILTER,this.a.LINEAR)),this.a.bindTexture(this.a.TEXTURE_2D,s),q=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,q),this.a.bufferData(this.a.ARRAY_BUFFER,new Float32Array(h),this.a.STATIC_DRAW),h=new Lg(q,h.length,2),g.e=t):h=this.Pd.get(c));ah(this.C,0.1);if(m)this.Kd=
t,J.qa(this.c+".update"),ah(this.C,0.9);else{if(!b||d.e||l.e){m=l.D;g=m.Va(new R(d.Wb,d.Xb,d.Yb));m=m.Va(new R(d.Tb,d.Ub,d.Vb));if(this.$c===s||g.x<this.$c)this.$c=g.x;if(this.Xc===s||m.x>this.Xc)this.Xc=m.x;if(this.ad===s||g.y<this.ad)this.ad=g.y;if(this.Yc===s||m.y>this.Yc)this.Yc=m.y;if(this.bd===s||g.b<this.bd)this.bd=g.b;if(this.Zc===s||m.b>this.Zc)this.Zc=m.b;this.m=[(this.$c+this.Xc)/2,(this.ad+this.Yc)/2,(this.bd+this.Zc)/2];l.e=t}b&&d.e&&(l=this.gd.get(c),l!=s&&this.a.isBuffer(l.la)&&this.a.deleteBuffer(l.la));
l=s;!b||d.e?(l=this.a.createBuffer(),d.nb(),this.a.bindBuffer(this.a.ARRAY_BUFFER,l),this.a.bufferData(this.a.ARRAY_BUFFER,d.N,this.a.STATIC_DRAW),l=new Lg(l,d.count,3),d.e=t):l=this.gd.get(c);ah(this.C,0.3);b&&e.e&&(g=this.gd.get(c),g!=s&&this.a.isBuffer(g.la)&&this.a.deleteBuffer(g.la));g=s;!b||e.e?(g=this.a.createBuffer(),e.nb(),this.a.bindBuffer(this.a.ARRAY_BUFFER,g),this.a.bufferData(this.a.ARRAY_BUFFER,e.N,this.a.STATIC_DRAW),g=new Lg(g,e.count,3),e.e=t):g=this.Oe.get(c);ah(this.C,0.3);b&&
(f&&f.e)&&(e=this.Ed.get(c),e!=s&&this.a.isBuffer(e.la)&&this.a.deleteBuffer(e.la));e=s;f&&(!b||f.e?(f.length!=d.length&&k(Error("Mismatch between points and point colors.")),e=this.a.createBuffer(),f.nb(),this.a.bindBuffer(this.a.ARRAY_BUFFER,e),this.a.bufferData(this.a.ARRAY_BUFFER,f.N,this.a.STATIC_DRAW),e=new Lg(e,f.count,3),f.e=t):e=this.Ed.get(c));ah(this.C,0.2);b&&(r&&r.e)&&(f=this.Od.get(c),f!=s&&this.a.isBuffer(f.la)&&this.a.deleteBuffer(f.la));f=s;r&&(f=r.Qc,!b||r.e?(f.length!=d.length&&
k(Error("Mismatch between points and scalars.")),d=this.a.createBuffer(),this.a.bindBuffer(this.a.ARRAY_BUFFER,d),this.a.bufferData(this.a.ARRAY_BUFFER,f,this.a.STATIC_DRAW),f=new Lg(d,f.length,3),r.e=t):f=this.Od.get(c));ah(this.C,0.1);b||this.Qa.add(a);this.gd.set(c,l);this.Oe.set(c,g);this.Ed.set(c,e);this.Pd.set(c,h);this.Od.set(c,f);this.Kd=a.e=t}}else a.e=t}};function Wh(a,b){var c=b.g.Dd,c=b.dc.D.Va(new R(c[0],c[1],c[2])),c=a.t.p.Va(c),c=Ac(a.t.za,c);return Math.round(1E3*c)/1E3}
v.fh=function(a,b){if(this.v.PICKING_ENABLED){this.Mb(p,t);var c=new Uint8Array(4);this.a.readPixels(a,this.G-b,1,1,this.a.RGBA,this.a.UNSIGNED_BYTE,c);return c[0]+255*c[1]+65025*c[2]}return-1};
v.Mb=function(a,b){Th.n.Mb.call(this,a,b);var c=this.Qa.z,d=c.length;if(0!=d){a?this.a.bindFramebuffer(this.a.FRAMEBUFFER,this.kg):this.a.bindFramebuffer(this.a.FRAMEBUFFER,s);var e=this.og;this.a.viewport(0,0,this.O,this.G);this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT);var f=this.t.jg,g=this.t.Rb;this.a.uniformMatrix4fv(e.get("projection"),t,f);this.a.uniformMatrix4fv(e.get("modelview"),t,g);f=this.m;this.a.uniform3f(e.get(Jh.xk),parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2]));
this.a.uniform1i(e.get("alphablend"),this.Cl);this.a.uniform1i(e.get("lighting"),this.Ii);this.a.uniform1i(e.get("nlights"),this.Si);g=this.$a.length;for(f=0;f<g;++f){var h=this.$a[f];if(h instanceof O){var l=new R(1,0,0),l=this.t.p.Va(l),m=Ac(this.t.za,l),l=new R(-1,0,0),l=this.t.p.Va(l),q=Ac(this.t.za,l),l=new R(0,1,0),l=this.t.p.Va(l),r=Ac(this.t.za,l),l=new R(0,-1,0),l=this.t.p.Va(l),x=Ac(this.t.za,l),l=new R(0,0,1),l=this.t.p.Va(l),w=Ac(this.t.za,l),l=new R(0,0,-1),l=this.t.p.Va(l),l=Ac(this.t.za,
l),y=Math.max(m,r,w,q,x,l);y==m||y==q?Ng(h,0):y==r||y==x?Ng(h,1):(y==w||y==l)&&Ng(h,2)}}if(this.v.ORDERING_ENABLED)if("OPACITY"==this.v.ORDERING_COMPARATOR){m=t;g=this.$a;h=g.length-1;do if(f=g[h],f instanceof O&&f.Sa){q=f.Jb;m=f.U.d;1==q?m=f.V.d:2==q&&(m=f.hb.d);q=m.length;r=m[0];r.L=Wh(this,r);r.M=f.M;x=m[q-1];x.L=Wh(this,x);x.M=f.M;x=Math.round(1E3*((x.L-r.L)/q))/1E3;for(w=w=1;w<q-1;w++)l=Math.round(1E3*(r.L+w*x))/1E3,m[w].L=l,m[w].M=f.M;m=p}while(h--);g=this.Qa.z;h=g.length-1;do if(f=g[h],f.Ra&&
!(1==f.M||f instanceof Mg))f.L=Wh(this,f),m=p;while(h--);m&&this.Qa.sort()}else"ID"==this.v.ORDERING_COMPARATOR&&(this.Qa.Be=Zc,this.Qa.sort());if(g=!a&&b!=s&&b&&this.v.STATISTICS_ENABLED)var A=0,D=0,H=0,z=0;var f=this.Ae,h=f.get("vertexPosition"),m=f.get("vertexNormal"),q=f.get("vertexColor"),r=f.get("vertexTexturePos"),x=f.get("vertexScalar"),w=e.get(Jh.fl),l=e.get("useObjectColor"),y=e.get("objectColor"),F=e.get("useScalars"),T=e.get("scalarsReplaceMode"),P=e.get("scalarsMin"),ga=e.get("scalarsMax"),
Y=e.get("scalarsMinColor"),Z=e.get("scalarsMaxColor"),ma=e.get("scalarsInterpolation"),ha=e.get("scalarsMinThreshold"),ia=e.get("scalarsMaxThreshold"),Ua=e.get("alpha"),Hb=e.get(Jh.Fk),wa=e.get(Jh.hl),Ig=e.get(Jh.dl),Xh=e.get(Jh.bl),Yh=e.get(Jh.cl),Zh=e.get(Jh.ol),$h=e.get(Jh.ul),ai=e.get(Jh.rl),bi=e.get(Jh.pl),ci=e.get(Jh.wl),di=e.get(Jh.vl),ei=e.get(Jh.sl),fi=e.get(Jh.ql),Jg=e.get(Jh.tl),gi=e.get("objectTransform"),hi=e.get("pointsize"),ii=e.get("lighting"),f=d;do{var Q=c[d-f];if(Q){var da=s;Q instanceof
Mg&&Q.jb&&(da=Q.jb);if(Q.Ra&&(!da||da.Ra)){this.Cd&&1>Q.M?this.a.depthMask(t):this.a.depthMask(p);var Ca=Q.ma,$a=Q.Wc,Ka=this.gd.get(Ca),mb=this.Oe.get(Ca),af=this.Ed.get(Ca),cc=this.Od.get(Ca),bf=this.Pd.get(Ca);this.a.bindBuffer(this.a.ARRAY_BUFFER,Ka.la);this.a.vertexAttribPointer(h,Ka.yb,this.a.FLOAT,t,0,0);this.a.bindBuffer(this.a.ARRAY_BUFFER,mb.la);this.a.vertexAttribPointer(m,mb.yb,this.a.FLOAT,t,0,0);a?this.a.uniform1i(w,p):this.a.uniform1i(w,t);af&&!a&&!$a?(this.a.uniform1i(l,t),this.a.bindBuffer(this.a.ARRAY_BUFFER,
af.la),this.a.vertexAttribPointer(q,af.yb,this.a.FLOAT,t,0,0)):(mb=1,$a&&!a&&(mb=0),this.a.uniform1i(l,mb),mb=Q.rb,a&&(mb=[Math.floor(Ca%65025%255)/255,Math.floor(Ca%65025/255)/255,Math.floor(Ca/65025)/255]),this.a.uniform3f(y,parseFloat(mb[0]),parseFloat(mb[1]),parseFloat(mb[2])),this.a.vertexAttribPointer(q,Ka.yb,this.a.FLOAT,t,0,0));cc&&!a&&!$a?(this.a.uniform1i(F,p),this.a.uniform1i(T,Q.u.mg),Ca=Q.u.Cb,$a=Q.u.Ab,this.a.uniform3f(Y,parseFloat(Ca[0]),parseFloat(Ca[1]),parseFloat(Ca[2])),this.a.uniform3f(Z,
parseFloat($a[0]),parseFloat($a[1]),parseFloat($a[2])),this.a.uniform1f(ha,parseFloat(Q.u.S)),this.a.uniform1f(ia,parseFloat(Q.u.W)),this.a.uniform1f(P,parseFloat(Q.u.Pa)),this.a.uniform1f(ga,parseFloat(Q.u.Ka)),this.a.uniform1i(ma,parseInt(Q.u.Fe,10)),this.a.bindBuffer(this.a.ARRAY_BUFFER,cc.la),this.a.vertexAttribPointer(x,cc.yb,this.a.FLOAT,t,0,0)):(this.a.uniform1i(F,t),this.a.vertexAttribPointer(x,Ka.yb,this.a.FLOAT,t,0,0));this.a.uniform1f(Ua,parseFloat(Q.M));Q.A&&bf&&!a?(this.a.uniform1i(wa,
p),this.a.activeTexture(this.a.TEXTURE0),this.a.bindTexture(this.a.TEXTURE_2D,this.Qd.get(Q.A.ma)),this.a.uniform1i(Xh,0),this.a.bindBuffer(this.a.ARRAY_BUFFER,bf.la),this.a.vertexAttribPointer(r,bf.yb,this.a.FLOAT,t,0,0),this.a.uniform1i(Jg,t)):(this.a.uniform1i(wa,t),this.a.vertexAttribPointer(r,Ka.yb,this.a.FLOAT,t,0,0));da&&(this.a.uniform1i(Jg,p),this.a.uniform1f(Zh,da.S),this.a.uniform1f($h,da.W),this.a.uniform1f(ai,da.Pa),this.a.uniform1f(bi,da.Ka),Ca=da.Cb,$a=da.Ab,this.a.uniform3f(ei,parseFloat(Ca[0]),
parseFloat(Ca[1]),parseFloat(Ca[2])),this.a.uniform3f(fi,parseFloat($a[0]),parseFloat($a[1]),parseFloat($a[2])),this.a.uniform1f(ci,da.Y),this.a.uniform1f(di,da.X),cc=da.r,this.a.uniform1i(Ig,t),da.Sa?this.a.uniform1f(Ua,parseFloat(da.M)):cc&&cc.Ra&&(da=Q.r.ma,this.a.uniform1i(Ig,p),this.a.activeTexture(this.a.TEXTURE1),this.a.bindTexture(this.a.TEXTURE_2D,this.Qd.get(da)),this.a.uniform1i(Yh,1),this.a.uniform1f(Hb,cc.M)));this.a.uniformMatrix4fv(gi,t,Q.dc.bg);da=1;"POINTS"==Q.aa&&(da=Q.cd);this.a.uniform1f(hi,
da);this.a.uniform1i(ii,Q.Vc);this.a.uniform1i(e.get("highlight"),t);this.a.uniform1i(e.get("picking"),t);this.a.uniform1i(e.get("alphablend"),1);this.a.uniform1i(e.get("nlights"),3);this.a.uniform3f(e.get("ambicolor"),1,1,1);this.a.uniform3fv(e.get("diffcolor"),[0.6,0.6,0.6,0.6,0.6,0.6,0.4,0.4,0.4]);this.a.uniform3fv(e.get("speccolor"),[0.4,0.4,0.4,0.2,0.2,0.2,0.4,0.4,0.4]);this.a.uniform3fv(e.get("lightdir"),[1,1,2,0,1,2,0,0,1]);this.a.uniform1f(e.get("ambient"),0.6);this.a.uniform1f(e.get("diffuse"),
0.4);this.a.uniform1f(e.get("specular"),0.2);this.a.uniform1f(e.get("shininess"),2);da=-1;Q.aa==Vc?(da=this.a.TRIANGLES,g&&(D+=Ka.xb/3)):"LINES"==Q.aa?(this.a.lineWidth(Q.zc),da=this.a.LINES,g&&(H+=Ka.xb/2)):"POINTS"==Q.aa?(da=this.a.POINTS,g&&(z+=Ka.xb)):"TRIANGLE_STRIPS"==Q.aa?(da=this.a.TRIANGLE_STRIP,g&&(D+=Ka.xb/3)):"POLYGONS"==Q.aa&&(da=0==Ka.xb%3?this.a.TRIANGLES:this.a.TRIANGLE_FAN,g&&(D+=Ka.xb/3));g&&(A+=Ka.xb);"front"==Q.vc?(this.a.enable(this.a.CULL_FACE),this.a.cullFace(this.a.FRONT)):
"back"==Q.vc?(this.a.enable(this.a.CULL_FACE),this.a.cullFace(this.a.BACK)):this.a.disable(this.a.CULL_FACE);this.a.drawArrays(da,0,Ka.xb)}}}while(--f);g&&(c="Objects: "+d+" | "+("Vertices: "+A+" | "),c+="Triangles: "+Math.round(D)+" | ",c+="Lines: "+H+" | ",c+="Points: "+z+" | ",c+="Textures: "+this.Qd.mb(),window.console.log(c))}};v.ae=function(){this.Te=s;delete this.Te;this.a.clear(this.a.COLOR_BUFFER_BIT|this.a.DEPTH_BUFFER_BIT);Th.n.ae.call(this)};G("X.renderer3D",Th);
G("X.renderer3D.prototype.init",Th.prototype.Ma);G("X.renderer3D.prototype.add",Th.prototype.add);G("X.renderer3D.prototype.onShowtime",Th.prototype.ah);G("X.renderer3D.prototype.onRender",Th.prototype.Zg);G("X.renderer3D.prototype.get",Th.prototype.get);G("X.renderer3D.prototype.render",Th.prototype.pc);G("X.renderer3D.prototype.destroy",Th.prototype.ae);G("X.renderer3D.prototype.resetBoundingBox",Th.prototype.Gj);G("X.renderer3D.prototype.resetViewAndRender",Th.prototype.Mc);
G("X.renderer3D.prototype.pick",Th.prototype.fh);G("X.renderer3D.prototype.setAlphablend",Th.prototype.ih);G("X.renderer3D.prototype.toggleAlphablend",Th.prototype.ek);
